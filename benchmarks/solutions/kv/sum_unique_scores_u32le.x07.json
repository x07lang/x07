{"decls":[{"body":["begin",["let","n",["bytes.len","b"]],["if",["=","n",0],["return",0],0],["let","needle",["bytes.lit","\"score\":"]],["let","idx",["std.regex-lite.find_literal","b","needle"]],["if",["<","idx",0],["return",0],0],["let","i",["+","idx",8]],["let","acc",0],["for","j","i","n",["begin",["let","c",["bytes.get_u8","b","j"]],["if",["if",[">=u","c",48],["<u","c",58],0],["set","acc",["+",["*","acc",10],["-","c",48]]],["return","acc"]],0]],"acc"],"kind":"defn","name":"main.extract_score","params":[{"name":"b","ty":"bytes_view"}],"result":"i32"}],"imports":["std.kv","std.regex-lite","std.set","std.text.ascii","std.text.slices"],"kind":"entry","module_id":"main","schema_version":"x07.x07ast@0.1.0","solve":["begin",["let","uniq",["std.set.unique_lines_sorted","input"]],["let","slices",["std.text.ascii.split_lines_view",["bytes.view","uniq"]]],["let","ns",["std.text.slices.count_v1","slices"]],["let","sum",0],["for","i",0,"ns",["begin",["let","len",["std.text.slices.len_v1","slices","i"]],["if",["=","len",0],0,["begin",["let","start",["std.text.slices.start_v1","slices","i"]],["let","key",["bytes.slice","uniq","start","len"]],["let","v",["std.kv.get","key"]],["set","sum",["+","sum",["main.extract_score","v"]]],0]],0]],["codec.write_u32_le","sum"]]}
