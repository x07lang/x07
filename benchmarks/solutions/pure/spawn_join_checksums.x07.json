{"decls":[{"body":["begin",["let","acc",0],["for","i",0,"len",["begin",["set","acc",["+","acc",["bytes.get_u8","input",["+","off","i"]]]],0]],["bytes1",["&","acc",255]]],"kind":"defasync","name":"main.checksum","params":[{"name":"off","ty":"i32"},{"name":"len","ty":"i32"}],"result":"bytes"}],"imports":[],"kind":"entry","module_id":"main","schema_version":"x07.x07ast@0.1.0","solve":["begin",["let","nseg",["codec.read_u32_le","input",0]],["let","seg_len",["codec.read_u32_le","input",4]],["let","base",8],["let","handles",["vec_u8.with_capacity",["*","nseg",4]]],["for","s",0,"nseg",["begin",["let","off",["+","base",["*","s","seg_len"]]],["let","h",["main.checksum","off","seg_len"]],["task.spawn","h"],["set","handles",["vec_u8.extend_bytes","handles",["codec.write_u32_le","h"]]],0]],["let","hbytes",["vec_u8.into_bytes","handles"]],["let","out",["bytes.alloc","nseg"]],["for","s",0,"nseg",["begin",["let","h",["codec.read_u32_le","hbytes",["*","s",4]]],["let","b",["await","h"]],["if",["<u",["bytes.len","b"],1],0,["set","out",["bytes.set_u8","out","s",["bytes.get_u8","b",0]]]],0]],"out"]}
