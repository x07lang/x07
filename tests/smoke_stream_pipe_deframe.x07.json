{"decls":[{"kind":"export","names":["smoke_stream_pipe_deframe.pipe_bytes_deframe_collect_ok","smoke_stream_pipe_deframe.pipe_bytes_deframe_empty_forbidden","smoke_stream_pipe_deframe.pipe_bytes_deframe_frame_too_large","smoke_stream_pipe_deframe.pipe_bytes_deframe_max_frames","smoke_stream_pipe_deframe.pipe_bytes_deframe_truncated_drop_ok","smoke_stream_pipe_deframe.pipe_bytes_deframe_truncated_err"]},{"body":["begin",["let","out",["vec_u8.with_capacity",11]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",2]]],["set","out",["vec_u8.extend_bytes","out",["bytes.lit","hi"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",1]]],["set","out",["vec_u8.extend_bytes","out",["bytes.lit","!"]]],["let","in",["vec_u8.into_bytes","out"]],["let","doc",["std.stream.pipe_v1",["std.stream.cfg_v1",["chunk_max_bytes",64],["bufread_cap_bytes",64],["max_in_bytes",64],["max_out_bytes",64],["max_items",10]],["std.stream.src.bytes_v1",["std.stream.expr_v1","in"]],["std.stream.chain_v1",["std.stream.xf.deframe_u32le_v1",["max_frame_bytes",10]]],["std.stream.sink.collect_bytes_v1"]]],["smoke_stream_pipe._assert_ok_doc_v1","doc",11,3,1,2,["bytes.lit","hi!"]]],"kind":"defn","name":"smoke_stream_pipe_deframe.pipe_bytes_deframe_collect_ok","params":[],"result":"result_i32"},{"body":["begin",["let","in",["codec.write_u32_le",0]],["let","doc",["std.stream.pipe_v1",["std.stream.cfg_v1",["chunk_max_bytes",64],["bufread_cap_bytes",64],["max_in_bytes",64],["max_out_bytes",64],["max_items",10]],["std.stream.src.bytes_v1",["std.stream.expr_v1","in"]],["std.stream.chain_v1",["std.stream.xf.deframe_u32le_v1",["max_frame_bytes",10],["allow_empty",0]]],["std.stream.sink.collect_bytes_v1"]]],["smoke_stream_pipe._assert_err_code_v1","doc",82]],"kind":"defn","name":"smoke_stream_pipe_deframe.pipe_bytes_deframe_empty_forbidden","params":[],"result":"result_i32"},{"body":["begin",["let","in",["codec.write_u32_le",5]],["let","doc",["std.stream.pipe_v1",["std.stream.cfg_v1",["chunk_max_bytes",64],["bufread_cap_bytes",64],["max_in_bytes",64],["max_out_bytes",64],["max_items",10]],["std.stream.src.bytes_v1",["std.stream.expr_v1","in"]],["std.stream.chain_v1",["std.stream.xf.deframe_u32le_v1",["max_frame_bytes",2]]],["std.stream.sink.collect_bytes_v1"]]],["smoke_stream_pipe._assert_err_code_v1","doc",80]],"kind":"defn","name":"smoke_stream_pipe_deframe.pipe_bytes_deframe_frame_too_large","params":[],"result":"result_i32"},{"body":["begin",["let","out",["vec_u8.with_capacity",8]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",0]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",0]]],["let","in",["vec_u8.into_bytes","out"]],["let","doc",["std.stream.pipe_v1",["std.stream.cfg_v1",["chunk_max_bytes",64],["bufread_cap_bytes",64],["max_in_bytes",64],["max_out_bytes",64],["max_items",10]],["std.stream.src.bytes_v1",["std.stream.expr_v1","in"]],["std.stream.chain_v1",["std.stream.xf.deframe_u32le_v1",["max_frame_bytes",10],["max_frames",1]]],["std.stream.sink.collect_bytes_v1"]]],["smoke_stream_pipe._assert_err_code_v1","doc",83]],"kind":"defn","name":"smoke_stream_pipe_deframe.pipe_bytes_deframe_max_frames","params":[],"result":"result_i32"},{"body":["begin",["let","out",["vec_u8.with_capacity",11]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",2]]],["set","out",["vec_u8.extend_bytes","out",["bytes.lit","ok"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",3]]],["set","out",["vec_u8.extend_bytes","out",["bytes.lit","x"]]],["let","in",["vec_u8.into_bytes","out"]],["let","doc",["std.stream.pipe_v1",["std.stream.cfg_v1",["chunk_max_bytes",64],["bufread_cap_bytes",64],["max_in_bytes",64],["max_out_bytes",64],["max_items",10]],["std.stream.src.bytes_v1",["std.stream.expr_v1","in"]],["std.stream.chain_v1",["std.stream.xf.deframe_u32le_v1",["max_frame_bytes",10],["on_truncated","drop"]]],["std.stream.sink.collect_bytes_v1"]]],["smoke_stream_pipe._assert_ok_doc_v1","doc",11,2,1,1,["bytes.lit","ok"]]],"kind":"defn","name":"smoke_stream_pipe_deframe.pipe_bytes_deframe_truncated_drop_ok","params":[],"result":"result_i32"},{"body":["begin",["let","out",["vec_u8.with_capacity",6]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",4]]],["set","out",["vec_u8.extend_bytes","out",["bytes.lit","ab"]]],["let","in",["vec_u8.into_bytes","out"]],["let","doc",["std.stream.pipe_v1",["std.stream.cfg_v1",["chunk_max_bytes",64],["bufread_cap_bytes",64],["max_in_bytes",64],["max_out_bytes",64],["max_items",10]],["std.stream.src.bytes_v1",["std.stream.expr_v1","in"]],["std.stream.chain_v1",["std.stream.xf.deframe_u32le_v1",["max_frame_bytes",10]]],["std.stream.sink.collect_bytes_v1"]]],["smoke_stream_pipe._assert_err_code_v1","doc",81]],"kind":"defn","name":"smoke_stream_pipe_deframe.pipe_bytes_deframe_truncated_err","params":[],"result":"result_i32"}],"imports":["smoke_stream_pipe"],"kind":"module","module_id":"smoke_stream_pipe_deframe","schema_version":"x07.x07ast@0.2.0"}
