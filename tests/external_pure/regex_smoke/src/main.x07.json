{"decls":[],"imports":["ext.regex","std.text.slices"],"kind":"entry","module_id":"main","schema_version":"x07.x07ast@0.3.0","solve":["begin",["let","OK",["bytes.lit","OK"]],["let","FAIL",["bytes.lit","FAIL"]],["let","pat_magic_b",["bytes.lit","abc"]],["let","compiled_magic_b",["ext.regex.compile",["bytes.view","pat_magic_b"]]],["let","compiled_magic",["bytes.view","compiled_magic_b"]],["let","magic_ok",["*",["=",["ext.regex.is_err","compiled_magic"],0],["*",["=",["view.get_u8","compiled_magic",0],1],["*",["=",["view.get_u8","compiled_magic",1],69],["*",["=",["view.get_u8","compiled_magic",2],86],["*",["=",["view.get_u8","compiled_magic",3],82],["=",["view.get_u8","compiled_magic",4],71]]]]]]],["let","pat_alt_b",["bytes.lit","ab|abc"]],["let","text_alt_b",["bytes.lit","zabc"]],["let","doc_alt_b",["ext.regex.exec_pat",["bytes.view","pat_alt_b"],["bytes.view","text_alt_b"]]],["let","doc_alt",["bytes.view","doc_alt_b"]],["let","alt_ok",["*",["=",["ext.regex.is_err","doc_alt"],0],["*",["=",["ext.regex.is_match","doc_alt"],1],["*",["=",["ext.regex.match_start","doc_alt"],1],["=",["ext.regex.match_end","doc_alt"],4]]]]],["let","pat_err_b",["bytes.lit","("]],["let","doc_err_b",["ext.regex.compile",["bytes.view","pat_err_b"]]],["let","doc_err",["bytes.view","doc_err_b"]],["let","err_ok",["*",["=",["ext.regex.is_err","doc_err"],1],["*",["=",["ext.regex.err_code","doc_err"],["ext.regex.code_parse_unbalanced_paren"]],["=",["ext.regex.err_pos","doc_err"],1]]]],["let","pat_case_b",["bytes.lit","a"]],["let","compiled_case_b",["ext.regex.compile_opts_v1",["bytes.view","pat_case_b"],["ext.regex.opts_casei_v1"]]],["let","compiled_case",["bytes.view","compiled_case_b"]],["let","text_case_b",["bytes.lit","A"]],["let","doc_case_b",["ext.regex.exec","compiled_case",["bytes.view","text_case_b"]]],["let","doc_case",["bytes.view","doc_case_b"]],["let","case_ok",["*",["=",["ext.regex.is_err","doc_case"],0],["*",["=",["ext.regex.is_match","doc_case"],1],["*",["=",["ext.regex.match_start","doc_case"],0],["=",["ext.regex.match_end","doc_case"],1]]]]],["let","pat_caps_b",["bytes.lit","(a)(b)"]],["let","compiled_caps_b",["ext.regex.compile",["bytes.view","pat_caps_b"]]],["let","compiled_caps",["bytes.view","compiled_caps_b"]],["let","text_caps_b",["bytes.lit","zzabzz"]],["let","text_caps",["bytes.view","text_caps_b"]],["let","doc_caps_b",["ext.regex.exec_caps_v1","compiled_caps","text_caps"]],["let","doc_caps",["bytes.view","doc_caps_b"]],["let","a_b",["bytes.lit","a"]],["let","b_b",["bytes.lit","b"]],["let","caps_ok",["if",["ext.regex.is_err","doc_caps"],0,["begin",["let","v1",["bytes.eq",["ext.regex.cap_view_v1","text_caps","doc_caps",1],["bytes.view","a_b"]]],["let","v2",["bytes.eq",["ext.regex.cap_view_v1","text_caps","doc_caps",2],["bytes.view","b_b"]]],["*",["=",["ext.regex.is_match","doc_caps"],1],["*",["=",["ext.regex.match_start","doc_caps"],2],["*",["=",["ext.regex.match_end","doc_caps"],4],["*",["=",["ext.regex.caps_count_v1","doc_caps"],2],["*","v1","v2"]]]]]]]],["let","pat_find_b",["bytes.lit","[0-9]+"]],["let","compiled_find_b",["ext.regex.compile",["bytes.view","pat_find_b"]]],["let","compiled_find",["bytes.view","compiled_find_b"]],["let","text_find_b",["bytes.lit","a12b34"]],["let","text_find",["bytes.view","text_find_b"]],["let","x7sl_find_b",["ext.regex.find_all_x7sl_v1","compiled_find","text_find",0]],["let","x7sl_find",["bytes.view","x7sl_find_b"]],["let","find_ok",["if",["ext.regex.is_err","x7sl_find"],0,["*",["=",["std.text.slices.count_v1","x7sl_find"],2],["*",["=",["std.text.slices.start_v1","x7sl_find",0],1],["*",["=",["std.text.slices.len_v1","x7sl_find",0],2],["*",["=",["std.text.slices.start_v1","x7sl_find",1],4],["=",["std.text.slices.len_v1","x7sl_find",1],2]]]]]]],["let","pat_split_b",["bytes.lit",","]],["let","compiled_split_b",["ext.regex.compile",["bytes.view","pat_split_b"]]],["let","compiled_split",["bytes.view","compiled_split_b"]],["let","text_split_b",["bytes.lit","a,b,,c"]],["let","text_split",["bytes.view","text_split_b"]],["let","x7sl_split_b",["ext.regex.split_v1","compiled_split","text_split",0]],["let","x7sl_split",["bytes.view","x7sl_split_b"]],["let","split_ok",["if",["ext.regex.is_err","x7sl_split"],0,["*",["=",["std.text.slices.count_v1","x7sl_split"],4],["*",["=",["std.text.slices.start_v1","x7sl_split",0],0],["*",["=",["std.text.slices.len_v1","x7sl_split",0],1],["*",["=",["std.text.slices.start_v1","x7sl_split",1],2],["*",["=",["std.text.slices.len_v1","x7sl_split",1],1],["*",["=",["std.text.slices.start_v1","x7sl_split",2],4],["*",["=",["std.text.slices.len_v1","x7sl_split",2],0],["*",["=",["std.text.slices.start_v1","x7sl_split",3],5],["=",["std.text.slices.len_v1","x7sl_split",3],1]]]]]]]]]]],["let","pat_repl_b",["bytes.lit","([0-9]+)"]],["let","compiled_repl_b",["ext.regex.compile",["bytes.view","pat_repl_b"]]],["let","compiled_repl",["bytes.view","compiled_repl_b"]],["let","text_repl_b",["bytes.lit","a12b34"]],["let","repl_b",["bytes.lit","[$0]"]],["let","out_repl",["ext.regex.replace_all_v1","compiled_repl",["bytes.view","text_repl_b"],["bytes.view","repl_b"],0]],["let","exp_repl_b",["bytes.lit","a[$0]b[$0]"]],["let","replace_ok",["*",["=",["ext.regex.is_err",["bytes.view","out_repl"]],0],["bytes.eq",["bytes.view","out_repl"],["bytes.view","exp_repl_b"]]]],["let","pat_empty_b",["bytes.lit","^"]],["let","compiled_empty_b",["ext.regex.compile",["bytes.view","pat_empty_b"]]],["let","compiled_empty",["bytes.view","compiled_empty_b"]],["let","text_empty_b",["bytes.lit","abc"]],["let","repl_empty_b",["bytes.lit","X"]],["let","out_empty",["ext.regex.replace_all_v1","compiled_empty",["bytes.view","text_empty_b"],["bytes.view","repl_empty_b"],0]],["let","exp_empty_b",["bytes.lit","Xabc"]],["let","empty_ok",["*",["=",["ext.regex.is_err",["bytes.view","out_empty"]],0],["bytes.eq",["bytes.view","out_empty"],["bytes.view","exp_empty_b"]]]],["let","all_ok",["*","magic_ok",["*","alt_ok",["*","err_ok",["*","case_ok",["*","caps_ok",["*","find_ok",["*","split_ok",["*","replace_ok","empty_ok"]]]]]]]]],["if","all_ok","OK","FAIL"]]}
