{"decls":[],"imports":["std.db.pool","std.db.spec","std.db.sqlite","std.db.sqlite.pool"],"kind":"entry","module_id":"main","schema_version":"x07.x07ast@0.2.0","solve":["begin",["let","caps",["std.db.sqlite.caps_default_v1"]],["let","hpool",["std.db.sqlite.pool.new_path_v1",["bytes.lit","benchmarks/fixtures/db/sqlite/v1/app.db"],1,["bytes.view","caps"],1]],["task.spawn","hpool"],["let","resp",["task.join.bytes","hpool"]],["if",["=",["std.db.spec.resp_is_ok_v1","resp"],0],["return",["bytes.lit","FAIL_pool_new"]],0],["let","pool",["std.db.spec.resp_ok_payload_v1","resp"]],["let","pool_v",["bytes.view","pool"]],["let","pool_close",["std.db.pool.pack_v1",["std.db.pool.chan_v1","pool_v"],["std.db.pool.max_conns_v1","pool_v"]]],["let","hexec",["std.db.sqlite.pool.exec0_async_v1","pool_v",["bytes.lit","BOGUS"],["bytes.view","caps"]]],["task.spawn","hexec"],["task.join.bytes","hexec"],["let","hclose",["std.db.sqlite.pool.close_v1","pool_close",["bytes.view","caps"]]],["task.spawn","hclose"],["let","close_resp",["task.join.bytes","hclose"]],["if",["=",["std.db.spec.resp_is_ok_v1","close_resp"],0],["return",["bytes.lit","FAIL_pool_close"]],0],["bytes.lit","OK"]]}
