{"decls":[],"imports":["ext.jsonschema","std.bytes"],"kind":"entry","module_id":"main","schema_version":"x07.x07ast@0.3.0","solve":["begin",["let","schema",["bytes.lit","{\"type\":\"object\",\"properties\":{\"a\":{\"type\":\"integer\"}},\"required\":[\"a\"],\"additionalProperties\":false}"]],["let","compiled",["ext.jsonschema.compile_v1",["bytes.view","schema"]]],["if",["ext.jsonschema.is_err_v1",["bytes.view","compiled"]],["return",["bytes.lit","compile_err"]],0],["let","inst_ok",["bytes.lit","{\"a\":1}"]],["let","v_ok",["ext.jsonschema.validate_v1",["bytes.view","compiled"],["bytes.view","inst_ok"]]],["if",["ext.jsonschema.is_err_v1",["bytes.view","v_ok"]],["return",["bytes.lit","validate_err_ok"]],0],["let","inst_bad",["bytes.lit","{\"a\":\"x\"}"]],["let","v_bad",["ext.jsonschema.validate_v1",["bytes.view","compiled"],["bytes.view","inst_bad"]]],["if",["=",["ext.jsonschema.is_err_v1",["bytes.view","v_bad"]],0],["return",["bytes.lit","expected_err"]],0],["let","errs",["ext.jsonschema.errors_json_v1",["bytes.view","v_bad"]]],["if",["<=",["bytes.len","errs"],2],["return",["bytes.lit","err_no_errors"]],0],["bytes.lit","OK"]]}
