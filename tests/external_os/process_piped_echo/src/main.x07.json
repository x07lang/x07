{"decls":[],"imports":["std.bytes","std.os.process","std.os.process.caps_v1","std.os.process.req_v1"],"kind":"entry","module_id":"main","schema_version":"x07.x07ast@0.1.0","solve":["begin",["let","exe",["bytes.lit","deps/x07/x07-proc-echo"]],["let","reqb",["std.os.process.req_v1.new","exe"]],["let","req",["std.os.process.req_v1.finish","reqb"]],["let","caps",["std.os.process.caps_v1.pack",1048576,1048576,1000,0]],["let","h",["std.os.process.spawn_piped_v1","req","caps"]],["let","want",["bytes.lit","hello"]],["let","chunk",["view.to_bytes",["bytes.view","want"]]],["std.os.process.stdin_write_v1","h","chunk"],["std.os.process.stdin_close_v1","h"],["os.process.join_exit_v1","h"],["let","exit_code",["std.os.process.take_exit_v1","h"]],["let","stdout",["std.os.process.stdout_read_v1","h",4096]],["let","stderr",["std.os.process.stderr_read_v1","h",4096]],["std.os.process.drop_v1","h"],["if",["&",["=","exit_code",0],["&",["std.bytes.eq",["bytes.view","stdout"],["bytes.view","want"]],["=",["std.bytes.len","stderr"],0]]],["bytes.lit","ok"],["bytes.lit","bad"]]]}
