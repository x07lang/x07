{"decls":[],"imports":["std.net.codec","std.net.dns","std.net.err","std.net.tcp","std.net.udp"],"kind":"entry","module_id":"main","schema_version":"x07.x07ast@0.1.0","solve":["begin",["let","caps",["std.net.codec.caps_default_v1"]],["let","caps_v",["bytes.view","caps"]],["let","addr",["std.net.codec.addr_ipv4_v1",127,0,0,1,30000]],["let","conn_doc",["std.net.tcp.connect_v1",["bytes.view","addr"],"caps_v"]],["let","conn_v",["bytes.view","conn_doc"]],["if",["=",["std.net.err.is_err_doc_v1","conn_v"],0],["return",["bytes.lit","err"]],0],["if",["!=",["std.net.err.err_code_v1","conn_v"],["std.net.err.code_policy_denied_v1"]],["return",["bytes.lit","err"]],0],["let","udp_doc",["std.net.udp.bind_v1",["bytes.view","addr"],"caps_v"]],["let","udp_v",["bytes.view","udp_doc"]],["if",["=",["std.net.err.is_err_doc_v1","udp_v"],0],["return",["bytes.lit","err"]],0],["if",["!=",["std.net.err.err_code_v1","udp_v"],["std.net.err.code_policy_denied_v1"]],["return",["bytes.lit","err"]],0],["let","name",["bytes.lit","localhost"]],["let","dns_doc",["std.net.dns.lookup_v1",["bytes.view","name"],80,"caps_v"]],["let","dns_v",["bytes.view","dns_doc"]],["if",["=",["std.net.err.is_err_doc_v1","dns_v"],0],["return",["bytes.lit","err"]],0],["if",["!=",["std.net.err.err_code_v1","dns_v"],["std.net.err.code_policy_denied_v1"]],["return",["bytes.lit","err"]],0],["bytes.lit","ok"]]}
