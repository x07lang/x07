{"decls":[{"kind":"export","names":["test.fixtures.file_url.external_os_file_url_v1"]},{"body":["begin",["let","prefix",["bytes.lit","file:///"]],["let","prefix_len",["bytes.len","prefix"]],["let","rel",["bytes.lit","tests/external_os/fixtures/file_url_source.txt"]],["let","rel_len",["bytes.len","rel"]],["let","root",["std.os.env.get",["bytes.lit","GITHUB_WORKSPACE"]]],["if",["=",["bytes.len","root"],0],["set","root",["std.os.env.get",["bytes.lit","PWD"]]],0],["let","root_len",["bytes.len","root"]],["if",["<","root_len",1],["return",["bytes.alloc",0]],0],["let","root_v",["bytes.view","root"]],["let","is_drive",0],["let","is_msys",0],["if",[">=u","root_len",2],["if",["=",["view.get_u8","root_v",1],58],["set","is_drive",1],0],0],["if",["=","is_drive",0],["if",[">=u","root_len",3],["if",["=",["view.get_u8","root_v",0],47],["if",["=",["view.get_u8","root_v",2],47],["begin",["let","d",["view.get_u8","root_v",1]],["if",["if",[">=u","d",65],["<u","d",91],0],["begin",["set","is_drive",1],["set","is_msys",1],0],["if",["if",[">=u","d",97],["<u","d",123],0],["begin",["set","is_drive",1],["set","is_msys",1],0],0]],0],0],0],0],0],["if","is_drive",["begin",["let","out",["vec_u8.with_capacity",["+","prefix_len",["+","root_len",["+","rel_len",1]]]]],["set","out",["vec_u8.extend_bytes","out","prefix"]],["if","is_msys",["begin",["let","d0",["view.get_u8","root_v",1]],["let","d",["if",["if",[">=u","d0",97],["<u","d0",123],0],["-","d0",32],"d0"]],["set","out",["vec_u8.push","out","d"]],["set","out",["vec_u8.push","out",58]],["set","out",["vec_u8.push","out",47]],["for","i",3,"root_len",["begin",["let","b",["view.get_u8","root_v","i"]],["if",["=","b",92],["set","out",["vec_u8.push","out",47]],["set","out",["vec_u8.push","out","b"]]],0]],0],["for","i",0,"root_len",["begin",["let","b",["view.get_u8","root_v","i"]],["if",["=","b",92],["set","out",["vec_u8.push","out",47]],["set","out",["vec_u8.push","out","b"]]],0]]],["set","out",["vec_u8.push","out",47]],["set","out",["vec_u8.extend_bytes","out","rel"]],["vec_u8.into_bytes","out"]],["begin",["let","drop",0],["if",["=",["view.get_u8","root_v",0],47],["set","drop",1],0],["let","trim_len",["-","root_len","drop"]],["if",["<","trim_len",1],["return",["bytes.alloc",0]],0],["let","out2",["vec_u8.with_capacity",["+","prefix_len",["+","trim_len",["+","rel_len",1]]]]],["set","out2",["vec_u8.extend_bytes","out2","prefix"]],["set","out2",["vec_u8.extend_bytes_range","out2","root_v","drop","trim_len"]],["set","out2",["vec_u8.push","out2",47]],["set","out2",["vec_u8.extend_bytes","out2","rel"]],["vec_u8.into_bytes","out2"]]]],"kind":"defn","name":"test.fixtures.file_url.external_os_file_url_v1","params":[],"result":"bytes"}],"imports":["std.os.env"],"kind":"module","module_id":"test.fixtures.file_url","schema_version":"x07.x07ast@0.1.0"}
