{"decls":[{"kind":"export","names":["ext.regex.cap_end_v1","ext.regex.cap_len_v1","ext.regex.cap_start_v1","ext.regex.cap_view_v1","ext.regex.caps_count_v1","ext.regex.code_compile_stack_overflow","ext.regex.code_compile_too_many_states","ext.regex.code_exec_invalid_compiled","ext.regex.code_parse_invalid_class","ext.regex.code_parse_invalid_escape","ext.regex.code_parse_invalid_repeat","ext.regex.code_parse_nothing_to_repeat","ext.regex.code_parse_repeat_range","ext.regex.code_parse_too_many_captures","ext.regex.code_parse_unbalanced_paren","ext.regex.code_parse_unclosed_class","ext.regex.compile","ext.regex.compile_opts_v1","ext.regex.err_code","ext.regex.err_pos","ext.regex.exec","ext.regex.exec_caps_from_v1","ext.regex.exec_caps_v1","ext.regex.exec_from_v1","ext.regex.exec_pat","ext.regex.find_all_x7sl_v1","ext.regex.is_err","ext.regex.is_match","ext.regex.match_end","ext.regex.match_len","ext.regex.match_start","ext.regex.opts_casei_v1","ext.regex.opts_dotall_v1","ext.regex.opts_multiline_v1","ext.regex.replace_all_v1","ext.regex.split_v1"]},{"body":["begin",["let","cap_n",["ext.regex.caps_count_v1","doc"]],["if",["<=","cap_i",0],["return",-1],0],["if",[">=u",["+","cap_i",0],["+","cap_n",1]],["return",-1],0],["let","off",["+",18,["*",["-","cap_i",1],8]]],["if",[">u",["+","off",4],["view.len","doc"]],["return",-1],0],["let","v",["codec.read_u32_le","doc","off"]],["if",["=","v",-1],-1,"v"]],"kind":"defn","name":"ext.regex.cap_end_v1","params":[{"name":"doc","ty":"bytes_view"},{"name":"cap_i","ty":"i32"}],"result":"i32"},{"body":["begin",["let","s",["ext.regex.cap_start_v1","doc","cap_i"]],["let","e",["ext.regex.cap_end_v1","doc","cap_i"]],["if",["=","s",-1],["return",-1],0],["if",["=","e",-1],["return",-1],0],["if",["<u","e","s"],-1,["-","e","s"]]],"kind":"defn","name":"ext.regex.cap_len_v1","params":[{"name":"doc","ty":"bytes_view"},{"name":"cap_i","ty":"i32"}],"result":"i32"},{"body":["begin",["let","cap_n",["ext.regex.caps_count_v1","doc"]],["if",["<=","cap_i",0],["return",-1],0],["if",[">=u",["+","cap_i",0],["+","cap_n",1]],["return",-1],0],["let","off",["+",14,["*",["-","cap_i",1],8]]],["if",[">u",["+","off",4],["view.len","doc"]],["return",-1],0],["let","v",["codec.read_u32_le","doc","off"]],["if",["=","v",-1],-1,"v"]],"kind":"defn","name":"ext.regex.cap_start_v1","params":[{"name":"doc","ty":"bytes_view"},{"name":"cap_i","ty":"i32"}],"result":"i32"},{"body":["begin",["let","s",["ext.regex.cap_start_v1","doc","cap_i"]],["let","e",["ext.regex.cap_end_v1","doc","cap_i"]],["if",["=","s",-1],["return",["view.slice","text",0,0]],0],["if",["=","e",-1],["return",["view.slice","text",0,0]],0],["if",["<u","e","s"],["return",["view.slice","text",0,0]],0],["view.slice","text","s",["-","e","s"]]],"kind":"defn","name":"ext.regex.cap_view_v1","params":[{"name":"text","ty":"bytes_view"},{"name":"doc","ty":"bytes_view"},{"name":"cap_i","ty":"i32"}],"result":"bytes_view"},{"body":["begin",["if",["<",["view.len","doc"],1],["return",0],0],["if",["!=",["view.get_u8","doc",0],1],["return",0],0],["if",["<",["view.len","doc"],14],["return",0],0],["codec.read_u32_le","doc",10]],"kind":"defn","name":"ext.regex.caps_count_v1","params":[{"name":"doc","ty":"bytes_view"}],"result":"i32"},{"body":8,"kind":"defn","name":"ext.regex.code_compile_stack_overflow","params":[],"result":"i32"},{"body":9,"kind":"defn","name":"ext.regex.code_compile_too_many_states","params":[],"result":"i32"},{"body":10,"kind":"defn","name":"ext.regex.code_exec_invalid_compiled","params":[],"result":"i32"},{"body":3,"kind":"defn","name":"ext.regex.code_parse_invalid_class","params":[],"result":"i32"},{"body":4,"kind":"defn","name":"ext.regex.code_parse_invalid_escape","params":[],"result":"i32"},{"body":6,"kind":"defn","name":"ext.regex.code_parse_invalid_repeat","params":[],"result":"i32"},{"body":5,"kind":"defn","name":"ext.regex.code_parse_nothing_to_repeat","params":[],"result":"i32"},{"body":7,"kind":"defn","name":"ext.regex.code_parse_repeat_range","params":[],"result":"i32"},{"body":11,"kind":"defn","name":"ext.regex.code_parse_too_many_captures","params":[],"result":"i32"},{"body":1,"kind":"defn","name":"ext.regex.code_parse_unbalanced_paren","params":[],"result":"i32"},{"body":2,"kind":"defn","name":"ext.regex.code_parse_unclosed_class","params":[],"result":"i32"},{"body":["ext.regex.compile_opts_v1","pat",0],"kind":"defn","name":"ext.regex.compile","params":[{"name":"pat","ty":"bytes_view"}],"result":"bytes"},{"body":["regex.compile_opts_v1","pat","opts"],"kind":"defn","name":"ext.regex.compile_opts_v1","params":[{"name":"pat","ty":"bytes_view"},{"name":"opts","ty":"i32"}],"result":"bytes"},{"body":["begin",["if",["=",["ext.regex.is_err","doc"],0],["return",0],0],["if",["<",["view.len","doc"],5],0,["codec.read_u32_le","doc",1]]],"kind":"defn","name":"ext.regex.err_code","params":[{"name":"doc","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["if",["=",["ext.regex.is_err","doc"],0],["return",0],0],["if",["<",["view.len","doc"],9],0,["codec.read_u32_le","doc",5]]],"kind":"defn","name":"ext.regex.err_pos","params":[{"name":"doc","ty":"bytes_view"}],"result":"i32"},{"body":["ext.regex.exec_from_v1","compiled","text",0],"kind":"defn","name":"ext.regex.exec","params":[{"name":"compiled","ty":"bytes_view"},{"name":"text","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["if",["=",["ext.regex.is_err","compiled"],1],["return",["view.to_bytes","compiled"]],0],["regex.exec_caps_from_v1","compiled","text","start"]],"kind":"defn","name":"ext.regex.exec_caps_from_v1","params":[{"name":"compiled","ty":"bytes_view"},{"name":"text","ty":"bytes_view"},{"name":"start","ty":"i32"}],"result":"bytes"},{"body":["ext.regex.exec_caps_from_v1","compiled","text",0],"kind":"defn","name":"ext.regex.exec_caps_v1","params":[{"name":"compiled","ty":"bytes_view"},{"name":"text","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["if",["=",["ext.regex.is_err","compiled"],1],["return",["view.to_bytes","compiled"]],0],["regex.exec_from_v1","compiled","text","start"]],"kind":"defn","name":"ext.regex.exec_from_v1","params":[{"name":"compiled","ty":"bytes_view"},{"name":"text","ty":"bytes_view"},{"name":"start","ty":"i32"}],"result":"bytes"},{"body":["begin",["let","compiled",["ext.regex.compile","pat"]],["ext.regex.exec",["bytes.view","compiled"],"text"]],"kind":"defn","name":"ext.regex.exec_pat","params":[{"name":"pat","ty":"bytes_view"},{"name":"text","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["if",["=",["ext.regex.is_err","compiled"],1],["return",["view.to_bytes","compiled"]],0],["regex.find_all_x7sl_v1","compiled","text","max_matches"]],"kind":"defn","name":"ext.regex.find_all_x7sl_v1","params":[{"name":"compiled","ty":"bytes_view"},{"name":"text","ty":"bytes_view"},{"name":"max_matches","ty":"i32"}],"result":"bytes"},{"body":["begin",["if",["<",["view.len","doc"],1],["return",1],0],["=",["view.get_u8","doc",0],0]],"kind":"defn","name":"ext.regex.is_err","params":[{"name":"doc","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["if",["<",["view.len","doc"],2],["return",0],0],["if",["!=",["view.get_u8","doc",0],1],["return",0],0],["=",["view.get_u8","doc",1],1]],"kind":"defn","name":"ext.regex.is_match","params":[{"name":"doc","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["if",["=",["ext.regex.is_match","doc"],0],["return",0],0],["if",["<",["view.len","doc"],10],0,["codec.read_u32_le","doc",6]]],"kind":"defn","name":"ext.regex.match_end","params":[{"name":"doc","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["if",["=",["ext.regex.is_match","doc"],0],["return",0],0],["let","a",["ext.regex.match_start","doc"]],["let","b",["ext.regex.match_end","doc"]],["if",["<u","b","a"],0,["-","b","a"]]],"kind":"defn","name":"ext.regex.match_len","params":[{"name":"doc","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["if",["=",["ext.regex.is_match","doc"],0],["return",0],0],["if",["<",["view.len","doc"],6],0,["codec.read_u32_le","doc",2]]],"kind":"defn","name":"ext.regex.match_start","params":[{"name":"doc","ty":"bytes_view"}],"result":"i32"},{"body":1,"kind":"defn","name":"ext.regex.opts_casei_v1","params":[],"result":"i32"},{"body":4,"kind":"defn","name":"ext.regex.opts_dotall_v1","params":[],"result":"i32"},{"body":2,"kind":"defn","name":"ext.regex.opts_multiline_v1","params":[],"result":"i32"},{"body":["begin",["if",["=",["ext.regex.is_err","compiled"],1],["return",["view.to_bytes","compiled"]],0],["regex.replace_all_v1","compiled","text","repl","cap_limit"]],"kind":"defn","name":"ext.regex.replace_all_v1","params":[{"name":"compiled","ty":"bytes_view"},{"name":"text","ty":"bytes_view"},{"name":"repl","ty":"bytes_view"},{"name":"cap_limit","ty":"i32"}],"result":"bytes"},{"body":["begin",["if",["=",["ext.regex.is_err","compiled"],1],["return",["view.to_bytes","compiled"]],0],["regex.split_v1","compiled","text","max_parts"]],"kind":"defn","name":"ext.regex.split_v1","params":[{"name":"compiled","ty":"bytes_view"},{"name":"text","ty":"bytes_view"},{"name":"max_parts","ty":"i32"}],"result":"bytes"}],"imports":[],"kind":"module","module_id":"ext.regex","schema_version":"x07.x07ast@0.2.0"}
