{"decls":[{"kind":"export","names":["std.db.pg.spec.caps_default_v1","std.db.pg.spec.caps_pack_v1","std.db.pg.spec.close_req_v1","std.db.pg.spec.exec_req_v1","std.db.pg.spec.flags_none_v1","std.db.pg.spec.open_req_v1","std.db.pg.spec.query_req_v1"]},{"body":["std.db.spec.caps_default_v1"],"kind":"defn","name":"std.db.pg.spec.caps_default_v1","params":[],"result":"bytes"},{"body":["std.db.spec.caps_pack_v1","connect_timeout_ms","query_timeout_ms","max_rows","max_resp_bytes"],"kind":"defn","name":"std.db.pg.spec.caps_pack_v1","params":[{"name":"connect_timeout_ms","ty":"i32"},{"name":"query_timeout_ms","ty":"i32"},{"name":"max_rows","ty":"i32"},{"name":"max_resp_bytes","ty":"i32"}],"result":"bytes"},{"body":["begin",["let","out",["vec_u8.with_capacity",12]],["set","out",["vec_u8.extend_bytes","out",["bytes.lit","X7PC"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",1]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","conn_id"]]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"std.db.pg.spec.close_req_v1","params":[{"name":"conn_id","ty":"i32"}],"result":"bytes"},{"body":["begin",["let","sql_len",["bytes.len","sql"]],["let","p_len",["bytes.len","params_doc"]],["let","out",["vec_u8.with_capacity",["+",24,["+","sql_len","p_len"]]]],["set","out",["vec_u8.extend_bytes","out",["bytes.lit","X7PE"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",1]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","conn_id"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",["if",["<","flags",0],0,"flags"]]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","sql_len"]]],["set","out",["vec_u8.extend_bytes","out","sql"]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","p_len"]]],["set","out",["vec_u8.extend_bytes","out","params_doc"]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"std.db.pg.spec.exec_req_v1","params":[{"name":"conn_id","ty":"i32"},{"name":"sql","ty":"bytes"},{"name":"params_doc","ty":"bytes"},{"name":"flags","ty":"i32"}],"result":"bytes"},{"body":0,"kind":"defn","name":"std.db.pg.spec.flags_none_v1","params":[],"result":"i32"},{"body":["begin",["let","h_len",["bytes.len","host"]],["let","u_len",["bytes.len","user"]],["let","p_len",["bytes.len","pass"]],["let","d_len",["bytes.len","db"]],["let","out",["vec_u8.with_capacity",["+",32,["+","h_len",["+","u_len",["+","p_len","d_len"]]]]]],["set","out",["vec_u8.extend_bytes","out",["bytes.lit","X7PO"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",1]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",["if",["<","flags",0],0,"flags"]]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","h_len"]]],["set","out",["vec_u8.extend_bytes","out","host"]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",["if",["<","port",0],0,"port"]]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","u_len"]]],["set","out",["vec_u8.extend_bytes","out","user"]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","p_len"]]],["set","out",["vec_u8.extend_bytes","out","pass"]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","d_len"]]],["set","out",["vec_u8.extend_bytes","out","db"]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"std.db.pg.spec.open_req_v1","params":[{"name":"host","ty":"bytes"},{"name":"port","ty":"i32"},{"name":"user","ty":"bytes"},{"name":"pass","ty":"bytes"},{"name":"db","ty":"bytes"},{"name":"flags","ty":"i32"}],"result":"bytes"},{"body":["begin",["let","sql_len",["bytes.len","sql"]],["let","p_len",["bytes.len","params_doc"]],["let","out",["vec_u8.with_capacity",["+",24,["+","sql_len","p_len"]]]],["set","out",["vec_u8.extend_bytes","out",["bytes.lit","X7PQ"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",1]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","conn_id"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",["if",["<","flags",0],0,"flags"]]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","sql_len"]]],["set","out",["vec_u8.extend_bytes","out","sql"]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","p_len"]]],["set","out",["vec_u8.extend_bytes","out","params_doc"]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"std.db.pg.spec.query_req_v1","params":[{"name":"conn_id","ty":"i32"},{"name":"sql","ty":"bytes"},{"name":"params_doc","ty":"bytes"},{"name":"flags","ty":"i32"}],"result":"bytes"}],"imports":["std.codec","std.db.spec"],"kind":"module","module_id":"std.db.pg.spec","schema_version":"x07.x07ast@0.2.0"}
