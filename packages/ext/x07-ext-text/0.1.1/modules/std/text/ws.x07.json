{
  "schema_version": "x07.x07ast@0.2.0",
  "kind": "module",
  "module_id": "std.text.ws",
  "imports": [
    "std.text.ascii",
    "std.vec"
  ],
  "decls": [
    {
      "kind": "export",
      "names": [
        "std.text.ws.is_ascii_whitespace",
        "std.text.ws.trim_ascii_whitespace_view_v1",
        "std.text.ws.trim_ascii_whitespace_bytes_v1",
        "std.text.ws.collapse_ascii_whitespace_v1"
      ]
    },
    {
      "kind": "defn",
      "name": "std.text.ws.is_ascii_whitespace",
      "params": [{ "name": "c", "ty": "i32" }],
      "result": "i32",
      "body": [
        "if",
        ["=", "c", 32],
        1,
        [
          "if",
          ["=", "c", 9],
          1,
          ["if", ["=", "c", 10], 1, ["if", ["=", "c", 13], 1, 0]]
        ]
      ]
    },
    {
      "kind": "defn",
      "name": "std.text.ws._trim_start_ascii_whitespace",
      "params": [
        { "name": "b", "ty": "bytes_view" },
        { "name": "start", "ty": "i32" },
        { "name": "end", "ty": "i32" }
      ],
      "result": "i32",
      "body": [
        "begin",
        ["for", "i", "start", "end", ["begin", ["let", "c", ["view.get_u8", "b", "i"]], ["if", ["std.text.ws.is_ascii_whitespace", "c"], 0, ["return", "i"]]]],
        "end"
      ]
    },
    {
      "kind": "defn",
      "name": "std.text.ws._trim_end_ascii_whitespace",
      "params": [
        { "name": "b", "ty": "bytes_view" },
        { "name": "start", "ty": "i32" },
        { "name": "end", "ty": "i32" }
      ],
      "result": "i32",
      "body": [
        "begin",
        ["let", "last", ["-", "start", 1]],
        [
          "for",
          "i",
          "start",
          "end",
          [
            "begin",
            ["let", "c", ["view.get_u8", "b", "i"]],
            ["if", ["std.text.ws.is_ascii_whitespace", "c"], 0, ["set", "last", "i"]]
          ]
        ],
        ["+", "last", 1]
      ]
    },
    {
      "kind": "defn",
      "name": "std.text.ws.trim_ascii_whitespace_view_v1",
      "params": [{ "name": "b", "ty": "bytes_view" }],
      "result": "bytes_view",
      "body": [
        "begin",
        ["let", "n", ["view.len", "b"]],
        ["let", "l", ["std.text.ws._trim_start_ascii_whitespace", "b", 0, "n"]],
        ["let", "r", ["std.text.ws._trim_end_ascii_whitespace", "b", "l", "n"]],
        ["if", ["<u", "l", "r"], ["view.slice", "b", "l", ["-", "r", "l"]], ["view.slice", "b", "n", 0]]
      ]
    },
    {
      "kind": "defn",
      "name": "std.text.ws.trim_ascii_whitespace_bytes_v1",
      "params": [{ "name": "b", "ty": "bytes_view" }],
      "result": "bytes",
      "body": ["view.to_bytes", ["std.text.ws.trim_ascii_whitespace_view_v1", "b"]]
    },
    {
      "kind": "defn",
      "name": "std.text.ws.collapse_ascii_whitespace_v1",
      "params": [{ "name": "b", "ty": "bytes_view" }],
      "result": "bytes",
      "body": [
        "begin",
        ["let", "n", ["view.len", "b"]],
        ["let", "out", ["vec_u8.with_capacity", "n"]],
        ["let", "in_ws", 1],
        [
          "for",
          "i",
          0,
          "n",
          [
            "begin",
            ["let", "c", ["view.get_u8", "b", "i"]],
            [
              "if",
              ["std.text.ws.is_ascii_whitespace", "c"],
              ["set", "in_ws", 1],
              [
                "begin",
                [
                  "if",
                  ["=", "in_ws", 1],
                  [
                    "if",
                    ["<u", 0, ["vec_u8.len", "out"]],
                    ["begin", ["set", "out", ["vec_u8.push", "out", 32]], 0],
                    0
                  ],
                  0
                ],
                ["set", "out", ["vec_u8.push", "out", "c"]],
                ["set", "in_ws", 0]
              ]
            ]
          ]
        ],
        ["vec_u8.into_bytes", "out"]
      ]
    }
  ],
  "meta": {
    "generated_by": "manual",
    "package": "x07:ext-text@0.1.0"
  }
}
