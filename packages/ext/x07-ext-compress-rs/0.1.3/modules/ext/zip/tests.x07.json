{"decls":[{"kind":"export","names":["ext.zip.tests.test_err_checksum_mismatch","ext.zip.tests.test_err_not_found","ext.zip.tests.test_err_output_limit","ext.zip.tests.test_err_truncated","ext.zip.tests.test_extract_deflate_ok","ext.zip.tests.test_extract_store_ok","ext.zip.tests.test_list_names_ok","ext.zip.tests.test_list_names_output_limit"]},{"body":["begin",["let","out",["vec_u8.with_capacity",7]],["set","out",["vec_u8.push","out",1]],["set","out",["vec_u8.push","out",2]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",253]],["set","out",["vec_u8.push","out",255]],["set","out",["vec_u8.push","out",104]],["set","out",["vec_u8.push","out",105]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"ext.zip.tests._raw_hi_deflate","params":[],"result":"bytes"},{"body":["begin",["let","name",["bytes.lit","hi"]],["let","raw",["ext.zip.tests._raw_hi_deflate"]],["let","out",["vec_u8.with_capacity",109]],["set","out",["vec_u8.push","out",80]],["set","out",["vec_u8.push","out",75]],["set","out",["vec_u8.push","out",3]],["set","out",["vec_u8.push","out",4]],["set","out",["vec_u8.push","out",20]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",8]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",172]],["set","out",["vec_u8.push","out",42]],["set","out",["vec_u8.push","out",147]],["set","out",["vec_u8.push","out",216]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",7]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",2]]],["set","out",["vec_u8.push","out",2]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.extend_bytes","out","name"]],["set","out",["vec_u8.extend_bytes","out","raw"]],["set","out",["vec_u8.push","out",80]],["set","out",["vec_u8.push","out",75]],["set","out",["vec_u8.push","out",1]],["set","out",["vec_u8.push","out",2]],["set","out",["vec_u8.push","out",20]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",20]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",8]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",172]],["set","out",["vec_u8.push","out",42]],["set","out",["vec_u8.push","out",147]],["set","out",["vec_u8.push","out",216]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",7]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",2]]],["set","out",["vec_u8.push","out",2]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",0]]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.extend_bytes","out","name"]],["set","out",["vec_u8.push","out",80]],["set","out",["vec_u8.push","out",75]],["set","out",["vec_u8.push","out",5]],["set","out",["vec_u8.push","out",6]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",1]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",1]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",48]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",39]]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"ext.zip.tests._zip_deflate_hi","params":[],"result":"bytes"},{"body":["begin",["let","z0",["ext.zip.tests._zip_deflate_hi"]],["let","z1",["bytes.set_u8","z0",99,232]],["let","z2",["bytes.set_u8","z1",100,3]],["let","z3",["bytes.set_u8","z2",101,0]],["bytes.set_u8","z3",102,0]],"kind":"defn","name":"ext.zip.tests._zip_deflate_hi_bad_cd_size","params":[],"result":"bytes"},{"body":["begin",["let","z",["ext.zip.tests._zip_deflate_hi"]],["bytes.set_u8","z",55,173]],"kind":"defn","name":"ext.zip.tests._zip_deflate_hi_bad_crc","params":[],"result":"bytes"},{"body":["begin",["let","name",["bytes.lit","hi"]],["let","data",["bytes.lit","hi"]],["let","out",["vec_u8.with_capacity",104]],["set","out",["vec_u8.push","out",80]],["set","out",["vec_u8.push","out",75]],["set","out",["vec_u8.push","out",3]],["set","out",["vec_u8.push","out",4]],["set","out",["vec_u8.push","out",20]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",172]],["set","out",["vec_u8.push","out",42]],["set","out",["vec_u8.push","out",147]],["set","out",["vec_u8.push","out",216]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",2]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",2]]],["set","out",["vec_u8.push","out",2]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.extend_bytes","out","name"]],["set","out",["vec_u8.extend_bytes","out","data"]],["set","out",["vec_u8.push","out",80]],["set","out",["vec_u8.push","out",75]],["set","out",["vec_u8.push","out",1]],["set","out",["vec_u8.push","out",2]],["set","out",["vec_u8.push","out",20]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",20]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",172]],["set","out",["vec_u8.push","out",42]],["set","out",["vec_u8.push","out",147]],["set","out",["vec_u8.push","out",216]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",2]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",2]]],["set","out",["vec_u8.push","out",2]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",0]]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.extend_bytes","out","name"]],["set","out",["vec_u8.push","out",80]],["set","out",["vec_u8.push","out",75]],["set","out",["vec_u8.push","out",5]],["set","out",["vec_u8.push","out",6]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",1]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",1]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",48]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",34]]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.push","out",0]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"ext.zip.tests._zip_store_hi","params":[],"result":"bytes"},{"body":["begin",["let","z",["ext.zip.tests._zip_deflate_hi_bad_crc"]],["let","name",["bytes.lit","hi"]],["let","doc",["ext.zip.extract_file_v1",["bytes.view","z"],["bytes.view","name"],16]],["let","docv",["bytes.view","doc"]],["try",["std.test.assert_i32_eq",["ext.zip.is_err","docv"],1,["std.test.code_assert_i32_eq"]]],["try",["std.test.assert_i32_eq",["ext.zip.err_code","docv"],["ext.zip.code_checksum_mismatch"],["std.test.code_assert_i32_eq"]]],["std.test.pass"]],"kind":"defn","name":"ext.zip.tests.test_err_checksum_mismatch","params":[],"result":"result_i32"},{"body":["begin",["let","z",["ext.zip.tests._zip_deflate_hi"]],["let","name",["bytes.lit","nope"]],["let","doc",["ext.zip.extract_file_v1",["bytes.view","z"],["bytes.view","name"],16]],["let","docv",["bytes.view","doc"]],["try",["std.test.assert_i32_eq",["ext.zip.is_err","docv"],1,["std.test.code_assert_i32_eq"]]],["try",["std.test.assert_i32_eq",["ext.zip.err_code","docv"],["ext.zip.code_not_found"],["std.test.code_assert_i32_eq"]]],["std.test.pass"]],"kind":"defn","name":"ext.zip.tests.test_err_not_found","params":[],"result":"result_i32"},{"body":["begin",["let","z",["ext.zip.tests._zip_deflate_hi"]],["let","name",["bytes.lit","hi"]],["let","doc",["ext.zip.extract_file_v1",["bytes.view","z"],["bytes.view","name"],1]],["let","docv",["bytes.view","doc"]],["try",["std.test.assert_i32_eq",["ext.zip.is_err","docv"],1,["std.test.code_assert_i32_eq"]]],["try",["std.test.assert_i32_eq",["ext.zip.err_code","docv"],["ext.zip.code_output_limit"],["std.test.code_assert_i32_eq"]]],["std.test.pass"]],"kind":"defn","name":"ext.zip.tests.test_err_output_limit","params":[],"result":"result_i32"},{"body":["begin",["let","z",["ext.zip.tests._zip_deflate_hi_bad_cd_size"]],["let","doc",["ext.zip.list_names_v1",["bytes.view","z"],8,64]],["let","docv",["bytes.view","doc"]],["try",["std.test.assert_i32_eq",["ext.zip.is_err","docv"],1,["std.test.code_assert_i32_eq"]]],["try",["std.test.assert_i32_eq",["ext.zip.err_code","docv"],["ext.zip.code_truncated"],["std.test.code_assert_i32_eq"]]],["std.test.pass"]],"kind":"defn","name":"ext.zip.tests.test_err_truncated","params":[],"result":"result_i32"},{"body":["begin",["let","z",["ext.zip.tests._zip_deflate_hi"]],["let","name",["bytes.lit","hi"]],["let","doc",["ext.zip.extract_file_v1",["bytes.view","z"],["bytes.view","name"],16]],["let","docv",["bytes.view","doc"]],["try",["std.test.assert_i32_eq",["ext.zip.is_err","docv"],0,["std.test.code_assert_i32_eq"]]],["try",["std.test.assert_bytes_eq",["ext.zip.get_bytes","docv"],["bytes.lit","hi"],["std.test.code_assert_bytes_eq"]]],["std.test.pass"]],"kind":"defn","name":"ext.zip.tests.test_extract_deflate_ok","params":[],"result":"result_i32"},{"body":["begin",["let","z",["ext.zip.tests._zip_store_hi"]],["let","name",["bytes.lit","hi"]],["let","doc",["ext.zip.extract_file_v1",["bytes.view","z"],["bytes.view","name"],16]],["let","docv",["bytes.view","doc"]],["try",["std.test.assert_i32_eq",["ext.zip.is_err","docv"],0,["std.test.code_assert_i32_eq"]]],["try",["std.test.assert_bytes_eq",["ext.zip.get_bytes","docv"],["bytes.lit","hi"],["std.test.code_assert_bytes_eq"]]],["std.test.pass"]],"kind":"defn","name":"ext.zip.tests.test_extract_store_ok","params":[],"result":"result_i32"},{"body":["begin",["let","z",["ext.zip.tests._zip_deflate_hi"]],["let","doc",["ext.zip.list_names_v1",["bytes.view","z"],8,64]],["try",["std.test.assert_i32_eq",["ext.zip.is_err",["bytes.view","doc"]],0,["std.test.code_assert_i32_eq"]]],["let","expected",["begin",["let","out",["vec_u8.with_capacity",7]],["set","out",["vec_u8.push","out",1]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",2]]],["set","out",["vec_u8.push","out",104]],["set","out",["vec_u8.push","out",105]],["vec_u8.into_bytes","out"]]],["try",["std.test.assert_bytes_eq","doc","expected",["std.test.code_assert_bytes_eq"]]],["std.test.pass"]],"kind":"defn","name":"ext.zip.tests.test_list_names_ok","params":[],"result":"result_i32"},{"body":["begin",["let","z",["ext.zip.tests._zip_deflate_hi"]],["let","doc",["ext.zip.list_names_v1",["bytes.view","z"],8,1]],["let","docv",["bytes.view","doc"]],["try",["std.test.assert_i32_eq",["ext.zip.is_err","docv"],1,["std.test.code_assert_i32_eq"]]],["try",["std.test.assert_i32_eq",["ext.zip.err_code","docv"],["ext.zip.code_output_limit"],["std.test.code_assert_i32_eq"]]],["std.test.pass"]],"kind":"defn","name":"ext.zip.tests.test_list_names_output_limit","params":[],"result":"result_i32"}],"imports":["ext.zip","std.test"],"kind":"module","module_id":"ext.zip.tests","schema_version":"x07.x07ast@0.2.0"}
