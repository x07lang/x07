{"decls":[{"kind":"export","names":["std.db.pool.chan_v1","std.db.pool.conn_from_token_v1","std.db.pool.conn_token_v1","std.db.pool.max_conns_v1","std.db.pool.pack_v1"]},{"body":["begin",["if",["!=",["view.len","pool"],16],["return",0],0],["let","m",["std.db.pool._magic_evpl_v1"]],["if",["!=",["view.get_u8","pool",0],["bytes.get_u8","m",0]],["return",0],0],["if",["!=",["view.get_u8","pool",1],["bytes.get_u8","m",1]],["return",0],0],["if",["!=",["view.get_u8","pool",2],["bytes.get_u8","m",2]],["return",0],0],["if",["!=",["view.get_u8","pool",3],["bytes.get_u8","m",3]],["return",0],0],["if",["!=",["std.u32.read_le_at","pool",4],1],["return",0],0],1],"kind":"defn","name":"std.db.pool._check_v1","params":[{"name":"pool","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","b",["bytes.alloc",4]],["set","b",["bytes.set_u8","b",0,69]],["set","b",["bytes.set_u8","b",1,86]],["set","b",["bytes.set_u8","b",2,80]],["set","b",["bytes.set_u8","b",3,76]],"b"],"kind":"defn","name":"std.db.pool._magic_evpl_v1","params":[],"result":"bytes"},{"body":["begin",["if",["=",["std.db.pool._check_v1","pool"],1],0,["return",0]],["std.u32.read_le_at","pool",8]],"kind":"defn","name":"std.db.pool.chan_v1","params":[{"name":"pool","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["if",["!=",["view.len","tok"],4],["return",0],0],["std.u32.read_le_at","tok",0]],"kind":"defn","name":"std.db.pool.conn_from_token_v1","params":[{"name":"tok","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","out",["bytes.alloc",4]],["set","out",["std.u32.write_le_at","out",0,"conn_id"]],"out"],"kind":"defn","name":"std.db.pool.conn_token_v1","params":[{"name":"conn_id","ty":"i32"}],"result":"bytes"},{"body":["begin",["if",["=",["std.db.pool._check_v1","pool"],1],0,["return",0]],["std.u32.read_le_at","pool",12]],"kind":"defn","name":"std.db.pool.max_conns_v1","params":[{"name":"pool","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","out",["bytes.alloc",16]],["let","m",["std.db.pool._magic_evpl_v1"]],["set","out",["bytes.set_u8","out",0,["bytes.get_u8","m",0]]],["set","out",["bytes.set_u8","out",1,["bytes.get_u8","m",1]]],["set","out",["bytes.set_u8","out",2,["bytes.get_u8","m",2]]],["set","out",["bytes.set_u8","out",3,["bytes.get_u8","m",3]]],["set","out",["std.u32.write_le_at","out",4,1]],["set","out",["std.u32.write_le_at","out",8,"chan"]],["set","out",["std.u32.write_le_at","out",12,"max_conns"]],"out"],"kind":"defn","name":"std.db.pool.pack_v1","params":[{"name":"chan","ty":"i32"},{"name":"max_conns","ty":"i32"}],"result":"bytes"}],"imports":["std.u32"],"kind":"module","module_id":"std.db.pool","schema_version":"x07.x07ast@0.3.0"}
