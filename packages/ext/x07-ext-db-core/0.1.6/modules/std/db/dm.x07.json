{"decls":[{"kind":"export","names":["std.db.dm.exec_doc_rows_affected_v1","std.db.dm.rows_doc_cols_value_v1","std.db.dm.rows_doc_rows_value_v1","std.db.dm.rows_doc_shape_note_v1"]},{"body":["begin",["if",["=",["ext.data_model.doc_is_err","doc"],1],["return",["bytes.alloc",0]],0],["if",["!=",["ext.data_model.root_kind","doc"],5],["return",["bytes.alloc",0]],0],["let","root",["ext.data_model.root_offset","doc"]],["let","off",["ext.data_model.map_find","doc","root","key"]],["if",["<","off",0],["return",["bytes.alloc",0]],0],["let","end",["ext.data_model.skip_value","doc","off"]],["if",["<","end",0],["return",["bytes.alloc",0]],0],["view.to_bytes",["view.slice","doc","off",["-","end","off"]]]],"kind":"defn","name":"std.db.dm._map_value_bytes_or_empty_v1","params":[{"name":"doc","ty":"bytes_view"},{"name":"key","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","n",["view.len","b"]],["if",["<=","n",0],["return",-1],0],["let","x",0],["for","i",0,"n",["begin",["let","c",["view.get_u8","b","i"]],["if",["if",[">=u","c",48],["<u","c",58],0],0,["return",-1]],["let","d",["-","c",48]],["if",[">","x",214748364],["return",-1],0],["if",["if",["=","x",214748364],[">","d",7],0],["return",-1],0],["set","x",["+",["*","x",10],"d"]],0]],"x"],"kind":"defn","name":"std.db.dm._parse_u32_dec_or_neg1_v1","params":[{"name":"b","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","k",["bytes.lit","rows_affected"]],["let","b",["std.db.dm._map_value_bytes_or_empty_v1","doc",["bytes.view","k"]]],["if",["=",["bytes.len","b"],0],["return",-1],0],["if",["!=",["ext.data_model.kind_at",["bytes.view","b"],0],2],["return",-1],0],["let","num",["ext.data_model.number_get",["bytes.view","b"],0]],["std.db.dm._parse_u32_dec_or_neg1_v1",["bytes.view","num"]]],"kind":"defn","name":"std.db.dm.exec_doc_rows_affected_v1","params":[{"name":"doc","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","k",["bytes.lit","cols"]],["std.db.dm._map_value_bytes_or_empty_v1","doc",["bytes.view","k"]]],"kind":"defn","name":"std.db.dm.rows_doc_cols_value_v1","params":[{"name":"doc","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","k",["bytes.lit","rows"]],["std.db.dm._map_value_bytes_or_empty_v1","doc",["bytes.view","k"]]],"kind":"defn","name":"std.db.dm.rows_doc_rows_value_v1","params":[{"name":"doc","ty":"bytes_view"}],"result":"bytes"},{"body":["bytes.lit","DbRowsDocV1:=doc_ok(map{cols:seq<string>,rows:seq<seq<scalar|null>>})"],"kind":"defn","name":"std.db.dm.rows_doc_shape_note_v1","params":[],"result":"bytes"}],"imports":["ext.data_model"],"kind":"module","module_id":"std.db.dm","schema_version":"x07.x07ast@0.2.0"}
