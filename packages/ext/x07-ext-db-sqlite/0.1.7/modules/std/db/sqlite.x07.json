{"decls":[{"kind":"export","names":["std.db.sqlite.caps_default_v1","std.db.sqlite.close_v1","std.db.sqlite.exec_v1","std.db.sqlite.open_path_v1","std.db.sqlite.open_v1","std.db.sqlite.query_v1"]},{"body":["std.db.sqlite.spec.caps_default_v1"],"kind":"defn","name":"std.db.sqlite.caps_default_v1","params":[],"result":"bytes"},{"body":["begin",["let","raw",["std.db.spec.conn_raw_v1","conn"]],["let","req",["std.db.sqlite.spec.close_req_v1","raw"]],["let","caps_b",["view.to_bytes","caps"]],["os.db.sqlite.close_v1","req","caps_b"]],"kind":"defn","name":"std.db.sqlite.close_v1","params":[{"name":"conn","ty":"i32"},{"name":"caps","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","raw",["std.db.spec.conn_raw_v1","conn"]],["let","req",["std.db.sqlite.spec.exec_req_v1","raw","sql","params_doc","flags"]],["let","caps_b",["view.to_bytes","caps"]],["os.db.sqlite.exec_v1","req","caps_b"]],"kind":"defn","name":"std.db.sqlite.exec_v1","params":[{"name":"conn","ty":"i32"},{"name":"sql","ty":"bytes"},{"name":"params_doc","ty":"bytes"},{"name":"flags","ty":"i32"},{"name":"caps","ty":"bytes_view"}],"result":"bytes"},{"body":["std.db.sqlite.open_v1","path",["std.db.sqlite.spec.open_flag_readonly_v1"],"caps"],"kind":"defn","name":"std.db.sqlite.open_path_v1","params":[{"name":"path","ty":"bytes"},{"name":"caps","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","req",["std.db.sqlite.spec.open_req_path_v1","path","open_flags"]],["let","caps_b",["view.to_bytes","caps"]],["let","resp",["os.db.sqlite.open_v1","req","caps_b"]],["if",["=",["std.db.spec.resp_is_ok_v1","resp"],1],["begin",["let","pl",["std.db.spec.resp_ok_payload_v1","resp"]],["let","raw",["codec.read_u32_le","pl",0]],["let","conn",["std.db.spec.conn_pack_v1",["std.db.spec.driver_sqlite_v1"],"raw"]],["std.db.spec.resp_ok_v1",["std.db.spec.op_open_v1"],["codec.write_u32_le","conn"]]],"resp"]],"kind":"defn","name":"std.db.sqlite.open_v1","params":[{"name":"path","ty":"bytes"},{"name":"open_flags","ty":"i32"},{"name":"caps","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","raw",["std.db.spec.conn_raw_v1","conn"]],["let","req",["std.db.sqlite.spec.query_req_v1","raw","sql","params_doc","flags"]],["let","caps_b",["view.to_bytes","caps"]],["os.db.sqlite.query_v1","req","caps_b"]],"kind":"defn","name":"std.db.sqlite.query_v1","params":[{"name":"conn","ty":"i32"},{"name":"sql","ty":"bytes"},{"name":"params_doc","ty":"bytes"},{"name":"flags","ty":"i32"},{"name":"caps","ty":"bytes_view"}],"result":"bytes"}],"imports":["std.codec","std.db.spec","std.db.sqlite.spec"],"kind":"module","module_id":"std.db.sqlite","schema_version":"x07.x07ast@0.3.0"}
