{"decls":[{"kind":"export","names":["ext.time.duration.SPEC_ERR_DUR_BAD_NANOS","ext.time.duration.SPEC_ERR_DUR_BAD_TAG","ext.time.duration.SPEC_ERR_DUR_BAD_VER","ext.time.duration.SPEC_ERR_DUR_RANGE","ext.time.duration.SPEC_ERR_DUR_TRUNCATED","ext.time.duration.add_v1","ext.time.duration.err_code_v1","ext.time.duration.from_nanos_v1","ext.time.duration.from_secs_i32_v1","ext.time.duration.from_secs_u32_v1","ext.time.duration.is_err_v1","ext.time.duration.make_v1","ext.time.duration.nanos_v1","ext.time.duration.secs_hi_v1","ext.time.duration.secs_lo_v1","ext.time.duration.sub_v1","ext.time.duration.ver_v1"]},{"body":4,"kind":"defn","name":"ext.time.duration.SPEC_ERR_DUR_BAD_NANOS","params":[],"result":"i32"},{"body":2,"kind":"defn","name":"ext.time.duration.SPEC_ERR_DUR_BAD_TAG","params":[],"result":"i32"},{"body":3,"kind":"defn","name":"ext.time.duration.SPEC_ERR_DUR_BAD_VER","params":[],"result":"i32"},{"body":5,"kind":"defn","name":"ext.time.duration.SPEC_ERR_DUR_RANGE","params":[],"result":"i32"},{"body":1,"kind":"defn","name":"ext.time.duration.SPEC_ERR_DUR_TRUNCATED","params":[],"result":"i32"},{"body":["begin",["let","out",["vec_u8.with_capacity",9]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","code"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",0]]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"ext.time.duration._make_err","params":[{"name":"code","ty":"i32"}],"result":"bytes"},{"body":["begin",["let","out",["vec_u8.with_capacity",14]],["set","out",["vec_u8.push","out",1]],["set","out",["vec_u8.push","out",1]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","secs_lo"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","secs_hi"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","nanos_u32"]]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"ext.time.duration._ok_v1","params":[{"name":"secs_lo","ty":"i32"},{"name":"secs_hi","ty":"i32"},{"name":"nanos_u32","ty":"i32"}],"result":"bytes"},{"body":["if",["<u",["view.len","doc"],1],-1,["view.get_u8","doc",0]],"kind":"defn","name":"ext.time.duration._tag","params":[{"name":"doc","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","a_code",["ext.time.duration.err_code_v1","a"]],["if",["!=","a_code",0],["return",["ext.time.duration._make_err","a_code"]],0],["let","b_code",["ext.time.duration.err_code_v1","b"]],["if",["!=","b_code",0],["return",["ext.time.duration._make_err","b_code"]],0],["let","a_lo",["codec.read_u32_le","a",2]],["let","a_hi",["codec.read_u32_le","a",6]],["let","a_nanos",["codec.read_u32_le","a",10]],["let","b_lo",["codec.read_u32_le","b",2]],["let","b_hi",["codec.read_u32_le","b",6]],["let","b_nanos",["codec.read_u32_le","b",10]],["let","sum_nanos0",["+","a_nanos","b_nanos"]],["let","carry_sec",["if",[">=","sum_nanos0",1000000000],1,0]],["let","sum_nanos",["if",["=","carry_sec",0],"sum_nanos0",["-","sum_nanos0",1000000000]]],["let","lo1",["+","a_lo","b_lo"]],["let","carry0",["if",["<u","lo1","a_lo"],1,0]],["let","hi1",["+",["+","a_hi","b_hi"],"carry0"]],["let","a_neg",["<","a_hi",0]],["let","b_neg",["<","b_hi",0]],["let","res1_neg",["<","hi1",0]],["if",["*",["=","a_neg","b_neg"],["!=","res1_neg","a_neg"]],["return",["ext.time.duration._make_err",["ext.time.duration.SPEC_ERR_DUR_RANGE"]]],0],["let","lo2",["+","lo1","carry_sec"]],["let","carry1",["if",["<u","lo2","lo1"],1,0]],["let","hi2",["+","hi1","carry1"]],["let","res2_neg",["<","hi2",0]],["if",["*",["=","res1_neg",0],["*",["=","carry_sec",1],["=","res2_neg",1]]],["return",["ext.time.duration._make_err",["ext.time.duration.SPEC_ERR_DUR_RANGE"]]],0],["ext.time.duration._ok_v1","lo2","hi2","sum_nanos"]],"kind":"defn","name":"ext.time.duration.add_v1","params":[{"name":"a","ty":"bytes_view"},{"name":"b","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","n",["view.len","doc"]],["if",["<u","n",1],["return",["ext.time.duration.SPEC_ERR_DUR_TRUNCATED"]],0],["let","tag",["view.get_u8","doc",0]],["if",["=","tag",0],["begin",["if",["<u","n",5],["return",["ext.time.duration.SPEC_ERR_DUR_TRUNCATED"]],0],["return",["codec.read_u32_le","doc",1]]],0],["if",["=","tag",1],["begin",["if",["<u","n",14],["return",["ext.time.duration.SPEC_ERR_DUR_TRUNCATED"]],0],["if",["=",["view.get_u8","doc",1],1],0,["return",["ext.time.duration.SPEC_ERR_DUR_BAD_VER"]]],["let","nanos",["codec.read_u32_le","doc",10]],["if",["if",["<","nanos",0],1,[">=","nanos",1000000000]],["return",["ext.time.duration.SPEC_ERR_DUR_BAD_NANOS"]],0],["return",0]],0],["ext.time.duration.SPEC_ERR_DUR_BAD_TAG"]],"kind":"defn","name":"ext.time.duration.err_code_v1","params":[{"name":"doc","ty":"bytes_view"}],"result":"i32"},{"body":["if",["if",["<","nanos_u32",0],1,[">=","nanos_u32",1000000000]],["ext.time.duration._make_err",["ext.time.duration.SPEC_ERR_DUR_BAD_NANOS"]],["ext.time.duration.make_v1",0,0,"nanos_u32"]],"kind":"defn","name":"ext.time.duration.from_nanos_v1","params":[{"name":"nanos_u32","ty":"i32"}],"result":"bytes"},{"body":["ext.time.duration.make_v1","secs",["if",["<","secs",0],-1,0],0],"kind":"defn","name":"ext.time.duration.from_secs_i32_v1","params":[{"name":"secs","ty":"i32"}],"result":"bytes"},{"body":["ext.time.duration.make_v1","secs_u32",0,0],"kind":"defn","name":"ext.time.duration.from_secs_u32_v1","params":[{"name":"secs_u32","ty":"i32"}],"result":"bytes"},{"body":["begin",["let","tag",["ext.time.duration._tag","doc"]],["if",["=","tag",1],0,1]],"kind":"defn","name":"ext.time.duration.is_err_v1","params":[{"name":"doc","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","secs_lo2","secs_lo"],["let","secs_hi2","secs_hi"],["let","nanos","nanos_u32"],["if",[">=","nanos",2000000000],["return",["ext.time.duration._make_err",["ext.time.duration.SPEC_ERR_DUR_BAD_NANOS"]]],0],["if",["<","nanos",-1000000000],["return",["ext.time.duration._make_err",["ext.time.duration.SPEC_ERR_DUR_BAD_NANOS"]]],0],["if",[">=","nanos",1000000000],["begin",["set","nanos",["-","nanos",1000000000]],["let","lo0",["+","secs_lo2",1]],["let","carry0",["if",["<u","lo0","secs_lo2"],1,0]],["let","hi0",["+","secs_hi2","carry0"]],["let","a_neg",["<","secs_hi2",0]],["let","res_neg",["<","hi0",0]],["if",["*",["=","a_neg",0],["=","res_neg",1]],["return",["ext.time.duration._make_err",["ext.time.duration.SPEC_ERR_DUR_RANGE"]]],0],["set","secs_lo2","lo0"],["set","secs_hi2","hi0"]],0],["if",["<","nanos",0],["begin",["set","nanos",["+","nanos",1000000000]],["let","lo0",["-","secs_lo2",1]],["let","borrow0",["if",["<u","secs_lo2",1],1,0]],["let","hi0",["-","secs_hi2","borrow0"]],["let","a_neg",["<","secs_hi2",0]],["let","res_neg",["<","hi0",0]],["if",["*",["=","a_neg",1],["=","res_neg",0]],["return",["ext.time.duration._make_err",["ext.time.duration.SPEC_ERR_DUR_RANGE"]]],0],["set","secs_lo2","lo0"],["set","secs_hi2","hi0"]],0],["if",["if",["<","nanos",0],1,[">=","nanos",1000000000]],["return",["ext.time.duration._make_err",["ext.time.duration.SPEC_ERR_DUR_BAD_NANOS"]]],0],["ext.time.duration._ok_v1","secs_lo2","secs_hi2","nanos"]],"kind":"defn","name":"ext.time.duration.make_v1","params":[{"name":"secs_lo","ty":"i32"},{"name":"secs_hi","ty":"i32"},{"name":"nanos_u32","ty":"i32"}],"result":"bytes"},{"body":["if",["=",["ext.time.duration.err_code_v1","doc"],0],["codec.read_u32_le","doc",10],0],"kind":"defn","name":"ext.time.duration.nanos_v1","params":[{"name":"doc","ty":"bytes_view"}],"result":"i32"},{"body":["if",["=",["ext.time.duration.err_code_v1","doc"],0],["codec.read_u32_le","doc",6],0],"kind":"defn","name":"ext.time.duration.secs_hi_v1","params":[{"name":"doc","ty":"bytes_view"}],"result":"i32"},{"body":["if",["=",["ext.time.duration.err_code_v1","doc"],0],["codec.read_u32_le","doc",2],0],"kind":"defn","name":"ext.time.duration.secs_lo_v1","params":[{"name":"doc","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","a_code",["ext.time.duration.err_code_v1","a"]],["if",["!=","a_code",0],["return",["ext.time.duration._make_err","a_code"]],0],["let","b_code",["ext.time.duration.err_code_v1","b"]],["if",["!=","b_code",0],["return",["ext.time.duration._make_err","b_code"]],0],["let","a_lo",["codec.read_u32_le","a",2]],["let","a_hi",["codec.read_u32_le","a",6]],["let","a_nanos",["codec.read_u32_le","a",10]],["let","b_lo",["codec.read_u32_le","b",2]],["let","b_hi",["codec.read_u32_le","b",6]],["let","b_nanos",["codec.read_u32_le","b",10]],["let","borrow_sec",["if",["<","a_nanos","b_nanos"],1,0]],["let","diff_nanos",["if",["=","borrow_sec",0],["-","a_nanos","b_nanos"],["-",["+","a_nanos",1000000000],"b_nanos"]]],["let","b_lo2","b_lo"],["let","b_hi2","b_hi"],["if",["=","borrow_sec",1],["begin",["let","lo0",["+","b_lo2",1]],["let","carry0",["if",["<u","lo0","b_lo2"],1,0]],["let","hi0",["+","b_hi2","carry0"]],["let","b_neg",["<","b_hi2",0]],["let","res_neg",["<","hi0",0]],["if",["*",["=","b_neg",0],["=","res_neg",1]],["return",["ext.time.duration._make_err",["ext.time.duration.SPEC_ERR_DUR_RANGE"]]],0],["set","b_lo2","lo0"],["set","b_hi2","hi0"]],0],["let","lo1",["-","a_lo","b_lo2"]],["let","borrow0",["if",["<u","a_lo","b_lo2"],1,0]],["let","hi1",["-",["-","a_hi","b_hi2"],"borrow0"]],["let","a_neg",["<","a_hi",0]],["let","b_neg",["<","b_hi2",0]],["let","res_neg",["<","hi1",0]],["if",["*",["!=","a_neg","b_neg"],["!=","res_neg","a_neg"]],["return",["ext.time.duration._make_err",["ext.time.duration.SPEC_ERR_DUR_RANGE"]]],0],["ext.time.duration._ok_v1","lo1","hi1","diff_nanos"]],"kind":"defn","name":"ext.time.duration.sub_v1","params":[{"name":"a","ty":"bytes_view"},{"name":"b","ty":"bytes_view"}],"result":"bytes"},{"body":["if",["<u",["view.len","doc"],2],0,["if",["=",["view.get_u8","doc",0],1],["view.get_u8","doc",1],0]],"kind":"defn","name":"ext.time.duration.ver_v1","params":[{"name":"doc","ty":"bytes_view"}],"result":"i32"}],"imports":[],"kind":"module","module_id":"ext.time.duration","schema_version":"x07.x07ast@0.2.0"}
