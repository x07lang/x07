diff --git a/ci/fixtures/agent-scenarios/text-core/missing-dep/broken/src/main.x07.json b/ci/fixtures/agent-scenarios/text-core/missing-dep/expected/src/main.x07.json
index 2f1696e..dda909c 100644
--- a/ci/fixtures/agent-scenarios/text-core/missing-dep/broken/src/main.x07.json
+++ b/ci/fixtures/agent-scenarios/text-core/missing-dep/expected/src/main.x07.json
@@ -1,2 +1 @@
 {"decls":[],"imports":["app"],"kind":"entry","module_id":"main","schema_version":"x07.x07ast@0.3.0","solve":["app.solve","input"]}
-
diff --git a/ci/fixtures/agent-scenarios/text-core/missing-dep/broken/x07.json b/ci/fixtures/agent-scenarios/text-core/missing-dep/expected/x07.json
index f4ea51e..e4dfc7d 100644
--- a/ci/fixtures/agent-scenarios/text-core/missing-dep/broken/x07.json
+++ b/ci/fixtures/agent-scenarios/text-core/missing-dep/expected/x07.json
@@ -1,13 +1,22 @@
 {
-  "schema_version": "x07.project@0.2.0",
-  "world": "solve-pure",
+  "default_profile": "test",
+  "dependencies": [
+    {
+      "name": "ext-text",
+      "path": ".x07/deps/ext-text/0.1.2",
+      "version": "0.1.2"
+    }
+  ],
   "entry": "src/main.x07.json",
-  "module_roots": ["src"],
-  "dependencies": [],
   "lockfile": "x07.lock.json",
-  "default_profile": "test",
+  "module_roots": [
+    "src"
+  ],
   "profiles": {
-    "test": { "world": "solve-pure" }
-  }
+    "test": {
+      "world": "solve-pure"
+    }
+  },
+  "schema_version": "x07.project@0.2.0",
+  "world": "solve-pure"
 }
-
diff --git a/ci/fixtures/agent-scenarios/text-core/missing-dep/broken/x07.lock.json b/ci/fixtures/agent-scenarios/text-core/missing-dep/expected/x07.lock.json
index 2925fc0..ee7c49e 100644
--- a/ci/fixtures/agent-scenarios/text-core/missing-dep/broken/x07.lock.json
+++ b/ci/fixtures/agent-scenarios/text-core/missing-dep/expected/x07.lock.json
@@ -1,4 +1,22 @@
 {
   "schema_version": "x07.lock@0.3.0",
-  "dependencies": []
+  "dependencies": [
+    {
+      "name": "ext-text",
+      "version": "0.1.2",
+      "path": ".x07/deps/ext-text/0.1.2",
+      "package_manifest_sha256": "35817e98987848cf0711268f4172bfa49c205109c93bd17d18fb5f149bedae77",
+      "module_root": "modules",
+      "modules_sha256": {
+        "std.text": "85f7c0c671f85106086fb14e581c472ce8361a77a34ca854d42ceb0a2f824c52",
+        "std.text.find": "0c84cefa81876012b56bb11c511ce5f72ae9734236e47b846043cf9a937b0026",
+        "std.text.join": "c84d4a822cf32a6f9e148c32f3fe583667fc17e8bf91450d82c39b8a09b61011",
+        "std.text.lines": "777bf1b599d3628e0834e22cd6925bcd9008547a65b6e69b912c2943cf831a7c",
+        "std.text.split": "dfd60f66759f0a0876c9d3cb1feaeeebb6b5282a139c3aa071ef231548664dbf",
+        "std.text.tests": "9ab717edbb0fdecb852901822dc8cc746b61e05a7155420f08e1d02abff4bdc1",
+        "std.text.ws": "7895ace61733e993fd025fe96d98432b734342a679f8cf925f024ba9d1f978f3"
+      },
+      "yanked": false
+    }
+  ]
 }
