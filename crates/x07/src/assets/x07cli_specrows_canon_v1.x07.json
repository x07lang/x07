{"decls":[],"imports":["ext.cli.specrows","ext.data_model","ext.data_model.json","std.vec"],"kind":"entry","module_id":"main","schema_version":"x07.x07ast@0.3.0","solve":["begin",["let","code",["result_bytes.err_code",["ext.cli.specrows.compile",["view.to_bytes","input"]]]],["if",["!=","code",0],["begin",["let","code_b",["codec.write_u32_le","code"]],["let","out",["vec_u8.with_capacity",5]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.extend_bytes","out",["bytes.view","code_b"]]],["std.vec.as_bytes","out"]],["begin",["let","res",["ext.cli.specrows.compile",["view.to_bytes","input"]]],["let","doc",["result_bytes.unwrap_or","res",["bytes.alloc",0]]],["let","emit",["ext.data_model.json.emit_canon",["bytes.view","doc"]]],["let","emitv",["bytes.view","emit"]],["if",["=",["ext.data_model.doc_is_err","emitv"],1],["return",["begin",["let","code_b",["codec.write_u32_le",1099]],["let","out",["vec_u8.with_capacity",5]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.extend_bytes","out",["bytes.view","code_b"]]],["std.vec.as_bytes","out"]]],0],["let","n",["view.len","emitv"]],["if",["<u","n",1],["return",["begin",["let","code_b",["codec.write_u32_le",1099]],["let","out",["vec_u8.with_capacity",5]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.extend_bytes","out",["bytes.view","code_b"]]],["std.vec.as_bytes","out"]]],0],["let","payload",["view.slice","emitv",1,["-","n",1]]],["let","out",["vec_u8.with_capacity",["+",2,["view.len","payload"]]]],["set","out",["vec_u8.push","out",1]],["set","out",["vec_u8.extend_bytes","out","payload"]],["set","out",["vec_u8.push","out",10]],["std.vec.as_bytes","out"]]]]}
