{"decls":[],"imports":["std.lru_cache"],"kind":"entry","module_id":"main","schema_version":"x07.x07ast@0.2.0","solve":["begin",["let","cap",["codec.read_u32_le","input",0]],["let","n_ops",["codec.read_u32_le","input",4]],["let","off",8],["let","c",["std.lru_cache.new_u32","cap"]],["let","put_sum",0],["let","get_sum",0],["for","i",0,"n_ops",["begin",["let","kind",["codec.read_u32_le","input","off"]],["let","key",["codec.read_u32_le","input",["+","off",4]]],["let","val",["codec.read_u32_le","input",["+","off",8]]],["set","off",["+","off",12]],["if",["=","kind",0],["begin",["let","v_opt",["std.lru_cache.peek_u32_opt","c","key"]],["if",["option_i32.is_some","v_opt"],["set","c",["std.lru_cache.touch_u32","c","key"]],0],["set","get_sum",["+","get_sum",["option_i32.unwrap_or","v_opt",0]]],0],["begin",["let","existed",["option_i32.is_some",["std.lru_cache.peek_u32_opt","c","key"]]],["set","put_sum",["+","put_sum",["^","existed",1]]],["set","c",["std.lru_cache.put_u32","c","key","val"]],0]],0]],["let","out",["vec_u8.with_capacity",8]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","put_sum"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","get_sum"]]],["vec_u8.into_bytes","out"]]}
