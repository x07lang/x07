{"decls":[{"body":["begin",["let","h",["std.rr.current_v1"]],["let","entry_res",["std.rr.next_v1","h",["bytes.lit","rr"],["bytes.lit","std.rr.fetch_v1"],["bytes.view","key"]]],["let","code",["result_bytes.err_code","entry_res"]],["let","body",["if",["!=","code",0],["bytes.alloc",0],["begin",["let","entry",["result_bytes.unwrap_or","entry_res",["bytes.alloc",0]]],["std.rr.entry_resp_v1",["bytes.view","entry"]]]]],["chan.bytes.send","ch","body"],["bytes.empty"]],"kind":"defasync","name":"main.fetch_send","params":[{"name":"key","ty":"bytes"},{"name":"ch","ty":"i32"}],"result":"bytes"},{"kind":"defasync","name":"main.solve_result_v1","params":[],"result":"result_bytes","body":["std.rr.with_policy_v1",["bytes.lit","smoke_rr_v1"],["bytes.lit","smoke.rrbin"],["i32.lit",2],["result_bytes.ok",["begin",["let","k0",["bytes.get_u8","input",1]],["let","k1",["bytes.get_u8","input",2]],["let","key0",["bytes.slice","input",1,1]],["let","key1",["bytes.slice","input",2,1]],["let","ch",["chan.bytes.new",2]],["let","h0",0],["let","h1",0],["if",["<=u","k0","k1"],["begin",["set","h0",["main.fetch_send","key0","ch"]],["task.spawn","h0"],["set","h1",["main.fetch_send","key1","ch"]],["task.spawn","h1"],0],["begin",["set","h0",["main.fetch_send","key1","ch"]],["task.spawn","h0"],["set","h1",["main.fetch_send","key0","ch"]],["task.spawn","h1"],0]],["task.yield"],["task.yield"],["let","out",["chan.bytes.recv","ch"]],["task.cancel","h0"],["task.cancel","h1"],"out"]]]}],"imports":["std.rr"],"kind":"entry","module_id":"main","schema_version":"x07.x07ast@0.3.0","solve":["begin",["let","h",["main.solve_result_v1"]],["task.spawn","h"],["result_bytes.unwrap_or",["task.join.result_bytes","h"],["bytes.alloc",0]]]}
