{"decls":[{"kind":"export","names":["std.path.basename","std.path.extname","std.path.join"]},{"body":["begin",["let","b",["bytes.alloc",1]],["bytes.set_u8","b",0,47]],"kind":"defn","name":"std.path._slash","params":[],"result":"bytes"},{"body":["begin",["let","n",["bytes.len","p"]],["if",["=","n",0],["return","p"],0],["let","end","n"],["if",["=",["bytes.get_u8","p",["-","n",1]],47],["set","end",["-","n",1]],0],["let","start",0],["for","i",0,"end",["if",["=",["bytes.get_u8","p","i"],47],["set","start",["+","i",1]],0]],["if",["<u","start","end"],["bytes.slice","p","start",["-","end","start"]],["bytes.slice","p","end",0]]],"kind":"defn","name":"std.path.basename","params":[{"name":"p","ty":"bytes"}],"result":"bytes"},{"body":["begin",["let","base",["std.path.basename","p"]],["let","n",["bytes.len","base"]],["let","dot",-1],["for","i",0,"n",["if",["=",["bytes.get_u8","base","i"],46],["set","dot","i"],0]],["if",["if",["<","dot",0],1,["=","dot",["-","n",1]]],["bytes.alloc",0],["bytes.slice","base","dot",["-","n","dot"]]]],"kind":"defn","name":"std.path.extname","params":[{"name":"p","ty":"bytes"}],"result":"bytes"},{"body":["begin",["let","na",["bytes.len","a"]],["let","nb",["bytes.len","b"]],["if",["=","na",0],["return","b"],0],["if",["=","nb",0],["return","a"],0],["let","a_slash",["=",["bytes.get_u8","a",["-","na",1]],47]],["let","b_slash",["=",["bytes.get_u8","b",0],47]],["if","a_slash",["if","b_slash",["std.bytes.concat","a",["bytes.slice","b",1,["-","nb",1]]],["std.bytes.concat","a","b"]],["if","b_slash",["std.bytes.concat","a","b"],["std.bytes.concat",["std.bytes.concat","a",["std.path._slash"]],"b"]]]],"kind":"defn","name":"std.path.join","params":[{"name":"a","ty":"bytes"},{"name":"b","ty":"bytes"}],"result":"bytes"}],"imports":["std.bytes"],"kind":"module","module_id":"std.path","schema_version":"x07.x07ast@0.3.0"}
