{"decls":[{"kind":"export","names":["std.deque.emit_le","std.deque.front_or","std.deque.len","std.deque.pop_front","std.deque.push_back","std.deque.with_capacity"]},{"body":["std.u32.read_le_at","dq",0],"kind":"defn","name":"std.deque._cap","params":[{"name":"dq","ty":"bytes_view"}],"result":"i32"},{"body":["ty.read_le_at",["t","A"],"dq",["tapp","std.deque._item_off",["t","A"],"idx"]],"kind":"defn","name":"std.deque._get","params":[{"name":"dq","ty":"bytes_view"},{"name":"idx","ty":"i32"}],"result":["t","A"],"type_params":[{"bound":"num_like","name":"A"}]},{"body":["begin",["let","old_cap",["std.deque._cap","dq"]],["let","len",["std.deque.len","dq"]],["let","head",["std.deque._head","dq"]],["let","out",["tapp","std.deque.with_capacity",["t","A"],"new_cap"]],["set","out",["std.u32.write_le_at","out",4,"len"]],["set","out",["std.u32.write_le_at","out",8,0]],["for","i",0,"len",["begin",["let","idx",["+","head","i"]],["if",[">=u","idx","old_cap"],["set","idx",["-","idx","old_cap"]],0],["set","out",["tapp","std.deque._set",["t","A"],"out","i",["tapp","std.deque._get",["t","A"],"dq","idx"]]],0]],"out"],"kind":"defn","name":"std.deque._grow","params":[{"name":"dq","ty":"bytes"},{"name":"new_cap","ty":"i32"}],"result":"bytes","type_params":[{"bound":"num_like","name":"A"}]},{"body":["std.u32.read_le_at","dq",8],"kind":"defn","name":"std.deque._head","params":[{"name":"dq","ty":"bytes_view"}],"result":"i32"},{"body":["+",12,["*","idx",["ty.size_bytes",["t","A"]]]],"kind":"defn","name":"std.deque._item_off","params":[{"name":"idx","ty":"i32"}],"result":"i32","type_params":[{"bound":"num_like","name":"A"}]},{"body":["ty.write_le_at",["t","A"],"dq",["tapp","std.deque._item_off",["t","A"],"idx"],"x"],"kind":"defn","name":"std.deque._set","params":[{"name":"dq","ty":"bytes"},{"name":"idx","ty":"i32"},{"name":"x","ty":["t","A"]}],"result":"bytes","type_params":[{"bound":"num_like","name":"A"}]},{"body":["begin",["let","n",["std.deque.len","dq"]],["let","cap",["std.deque._cap","dq"]],["let","head",["std.deque._head","dq"]],["let","esz",["ty.size_bytes",["t","A"]]],["let","out",["vec_u8.with_capacity",["*","n","esz"]]],["for","i",0,"n",["begin",["let","idx",["+","head","i"]],["if",[">=u","idx","cap"],["set","idx",["-","idx","cap"]],0],["set","out",["ty.push_le",["t","A"],"out",["tapp","std.deque._get",["t","A"],"dq","idx"]]],0]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"std.deque.emit_le","params":[{"name":"dq","ty":"bytes_view"}],"result":"bytes","type_params":[{"bound":"num_like","name":"A"}]},{"body":["begin",["let","len",["std.deque.len","dq"]],["if",["=","len",0],["return","default"],0],["tapp","std.deque._get",["t","A"],"dq",["std.deque._head","dq"]]],"kind":"defn","name":"std.deque.front_or","params":[{"name":"dq","ty":"bytes_view"},{"name":"default","ty":["t","A"]}],"result":["t","A"],"type_params":[{"bound":"num_like","name":"A"}]},{"body":["std.u32.read_le_at","dq",4],"kind":"defn","name":"std.deque.len","params":[{"name":"dq","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","len",["std.deque.len","dq"]],["if",["=","len",0],["return","dq"],0],["let","cap",["std.deque._cap","dq"]],["let","head",["std.deque._head","dq"]],["set","head",["+","head",1]],["if",[">=u","head","cap"],["set","head",0],0],["set","len",["-","len",1]],["set","dq",["std.u32.write_le_at","dq",4,"len"]],["set","dq",["std.u32.write_le_at","dq",8,"head"]],"dq"],"kind":"defn","name":"std.deque.pop_front","params":[{"name":"dq","ty":"bytes"}],"result":"bytes"},{"body":["begin",["let","cap",["std.deque._cap","dq"]],["let","len",["std.deque.len","dq"]],["let","head",["std.deque._head","dq"]],["if",[">=u","len","cap"],["begin",["set","dq",["tapp","std.deque._grow",["t","A"],"dq",["if",["<","cap",1],1,["*","cap",2]]]],["set","cap",["std.deque._cap","dq"]],["set","head",["std.deque._head","dq"]],0],0],["let","tail",["+","head","len"]],["if",[">=u","tail","cap"],["set","tail",["-","tail","cap"]],0],["set","dq",["tapp","std.deque._set",["t","A"],"dq","tail","x"]],["set","len",["+","len",1]],["set","dq",["std.u32.write_le_at","dq",4,"len"]],"dq"],"kind":"defn","name":"std.deque.push_back","params":[{"name":"dq","ty":"bytes"},{"name":"x","ty":["t","A"]}],"result":"bytes","type_params":[{"bound":"num_like","name":"A"}]},{"body":["begin",["let","cap2",["if",["<","cap",1],1,"cap"]],["let","esz",["ty.size_bytes",["t","A"]]],["let","b",["bytes.alloc",["+",12,["*","cap2","esz"]]]],["set","b",["std.u32.write_le_at","b",0,"cap2"]],["set","b",["std.u32.write_le_at","b",4,0]],["set","b",["std.u32.write_le_at","b",8,0]],"b"],"kind":"defn","name":"std.deque.with_capacity","params":[{"name":"cap","ty":"i32"}],"result":"bytes","type_params":[{"bound":"num_like","name":"A"}]}],"imports":["std.u32"],"kind":"module","module_id":"std.deque","schema_version":"x07.x07ast@0.4.0"}
