{"decls":[{"kind":"export","names":["std.small_map.empty_bytes_u32","std.small_map.get_bytes_u32","std.small_map.get_bytes_u32_or","std.small_map.inc1_bytes_u32","std.small_map.len_bytes_u32","std.small_map.put_bytes_u32","std.small_map.remove_bytes_u32"]},{"body":["bytes.alloc",0],"kind":"defn","name":"std.small_map.empty_bytes_u32","params":[],"result":"bytes"},{"body":["std.small_map.get_bytes_u32_or","m","key",0],"kind":"defn","name":"std.small_map.get_bytes_u32","params":[{"name":"m","ty":"bytes_view"},{"name":"key","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","key_len",["bytes.len","key"]],["let","total",["bytes.len","m"]],["let","off",0],["for","_",0,["+","total",1],["begin",["if",[">=u","off","total"],["return","default"],0],["let","klen",["codec.read_u32_le","m","off"]],["let","kstart",["+","off",4]],["let","voff",["+","kstart","klen"]],["let","v",["codec.read_u32_le","m","voff"]],["let","next",["+","voff",4]],["let","cmp",["bytes.cmp_range","key",0,"key_len","m","kstart","klen"]],["if",["=","cmp",0],["return","v"],["if",["<","cmp",0],["return","default"],0]],["set","off","next"],0]],"default"],"kind":"defn","name":"std.small_map.get_bytes_u32_or","params":[{"name":"m","ty":"bytes_view"},{"name":"key","ty":"bytes_view"},{"name":"default","ty":"i32"}],"result":"i32"},{"body":["begin",["let","key_len",["bytes.len","key"]],["let","total",["bytes.len","m"]],["let","out",["vec_u8.with_capacity",["+","total",["+",8,"key_len"]]]],["let","inserted",0],["let","off",0],["for","_",0,["+","total",1],["begin",["if",[">=u","off","total"],["begin",["if",["=","inserted",0],["begin",["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","key_len"]]],["set","out",["vec_u8.extend_bytes","out","key"]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",1]]],["set","inserted",1]],0],["return",["vec_u8.into_bytes","out"]]],0],["let","entry_key_len",["codec.read_u32_le","m","off"]],["let","entry_key_start",["+","off",4]],["let","entry_val_off",["+","entry_key_start","entry_key_len"]],["let","entry_val",["codec.read_u32_le","m","entry_val_off"]],["let","entry_next",["+","entry_val_off",4]],["if",["=","inserted",0],["begin",["let","cmp",["bytes.cmp_range","key",0,"key_len","m","entry_key_start","entry_key_len"]],["if",["=","cmp",0],["begin",["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","entry_key_len"]]],["set","out",["vec_u8.extend_bytes_range","out","m","entry_key_start","entry_key_len"]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",["+","entry_val",1]]]],["set","inserted",1]],["if",["<","cmp",0],["begin",["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","key_len"]]],["set","out",["vec_u8.extend_bytes","out","key"]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",1]]],["set","inserted",1],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","entry_key_len"]]],["set","out",["vec_u8.extend_bytes_range","out","m","entry_key_start","entry_key_len"]],["begin",["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","entry_val"]]],0]],["begin",["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","entry_key_len"]]],["set","out",["vec_u8.extend_bytes_range","out","m","entry_key_start","entry_key_len"]],["begin",["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","entry_val"]]],0]]]]],["begin",["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","entry_key_len"]]],["set","out",["vec_u8.extend_bytes_range","out","m","entry_key_start","entry_key_len"]],["begin",["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","entry_val"]]],0]]],["set","off","entry_next"],0]],"m"],"kind":"defn","name":"std.small_map.inc1_bytes_u32","params":[{"name":"m","ty":"bytes"},{"name":"key","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","total",["bytes.len","m"]],["let","off",0],["let","count",0],["for","_",0,["+","total",1],["begin",["if",[">=u","off","total"],["return","count"],0],["let","klen",["codec.read_u32_le","m","off"]],["set","off",["+","off",4]],["set","off",["+","off","klen"]],["set","off",["+","off",4]],["set","count",["+","count",1]],0]],"count"],"kind":"defn","name":"std.small_map.len_bytes_u32","params":[{"name":"m","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","key_len",["bytes.len","key"]],["let","total",["bytes.len","m"]],["let","out",["vec_u8.with_capacity",["+","total",["+",8,"key_len"]]]],["let","inserted",0],["let","off",0],["for","_",0,["+","total",1],["begin",["if",[">=u","off","total"],["begin",["if",["=","inserted",0],["begin",["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","key_len"]]],["set","out",["vec_u8.extend_bytes","out","key"]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","val"]]],["set","inserted",1]],0],["return",["vec_u8.into_bytes","out"]]],0],["let","entry_key_len",["codec.read_u32_le","m","off"]],["let","entry_key_start",["+","off",4]],["let","entry_val_off",["+","entry_key_start","entry_key_len"]],["let","entry_val",["codec.read_u32_le","m","entry_val_off"]],["let","entry_next",["+","entry_val_off",4]],["if",["=","inserted",0],["begin",["let","cmp",["bytes.cmp_range","key",0,"key_len","m","entry_key_start","entry_key_len"]],["if",["=","cmp",0],["begin",["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","entry_key_len"]]],["set","out",["vec_u8.extend_bytes_range","out","m","entry_key_start","entry_key_len"]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","val"]]],["set","inserted",1]],["if",["<","cmp",0],["begin",["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","key_len"]]],["set","out",["vec_u8.extend_bytes","out","key"]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","val"]]],["set","inserted",1],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","entry_key_len"]]],["set","out",["vec_u8.extend_bytes_range","out","m","entry_key_start","entry_key_len"]],["begin",["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","entry_val"]]],0]],["begin",["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","entry_key_len"]]],["set","out",["vec_u8.extend_bytes_range","out","m","entry_key_start","entry_key_len"]],["begin",["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","entry_val"]]],0]]]]],["begin",["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","entry_key_len"]]],["set","out",["vec_u8.extend_bytes_range","out","m","entry_key_start","entry_key_len"]],["begin",["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","entry_val"]]],0]]],["set","off","entry_next"],0]],"m"],"kind":"defn","name":"std.small_map.put_bytes_u32","params":[{"name":"m","ty":"bytes"},{"name":"key","ty":"bytes_view"},{"name":"val","ty":"i32"}],"result":"bytes"},{"body":["begin",["let","key_len",["bytes.len","key"]],["let","total",["bytes.len","m"]],["let","out",["vec_u8.with_capacity","total"]],["let","removed",0],["let","off",0],["for","_",0,["+","total",1],["begin",["if",[">=u","off","total"],["begin",["if",["=","removed",0],["return","m"],["return",["vec_u8.into_bytes","out"]]]],0],["let","klen",["codec.read_u32_le","m","off"]],["let","kstart",["+","off",4]],["let","voff",["+","kstart","klen"]],["let","v",["codec.read_u32_le","m","voff"]],["let","next",["+","voff",4]],["if",["=",["bytes.cmp_range","key",0,"key_len","m","kstart","klen"],0],["set","removed",1],["begin",["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","klen"]]],["set","out",["vec_u8.extend_bytes_range","out","m","kstart","klen"]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","v"]]],0]],["set","off","next"],0]],"m"],"kind":"defn","name":"std.small_map.remove_bytes_u32","params":[{"name":"m","ty":"bytes"},{"name":"key","ty":"bytes_view"}],"result":"bytes"}],"imports":[],"kind":"module","module_id":"std.small_map","schema_version":"x07.x07ast@0.3.0"}
