{"decls":[{"kind":"export","names":["std.text.ascii.first_line_view","std.text.ascii.is_alpha","std.text.ascii.is_space_tab","std.text.ascii.kth_line_view","std.text.ascii.last_line_view","std.text.ascii.normalize_lines","std.text.ascii.split_lines_view","std.text.ascii.split_u8","std.text.ascii.to_lower_u8","std.text.ascii.to_upper_u8","std.text.ascii.tokenize_words_lower"]},{"body":["begin",["let","l",["std.text.ascii._trim_start_space_tab","b","start","end"]],["let","r",["std.text.ascii._trim_end_space_tab","b","l","end"]],["if",["<u","l","r"],["begin",["if",["<u",0,["vec_u8.len","out"]],["set","out",["vec_u8.push","out",10]],0],["set","out",["vec_u8.extend_bytes_range","out","b","l",["-","r","l"]]],"out"],"out"]],"kind":"defn","name":"std.text.ascii._append_trimmed_line_space_tab","params":[{"name":"b","ty":"bytes_view"},{"name":"start","ty":"i32"},{"name":"end","ty":"i32"},{"name":"out","ty":"vec_u8"}],"result":"vec_u8"},{"body":["begin",["set","out",["std.text.ascii._push_u32_le","out","start"]],["set","out",["std.text.ascii._push_u32_le","out","len"]],"out"],"kind":"defn","name":"std.text.ascii._emit_slice","params":[{"name":"out","ty":"vec_u8"},{"name":"start","ty":"i32"},{"name":"len","ty":"i32"}],"result":"vec_u8"},{"body":["if",[">=u","c",97],["if",["<u","c",123],1,0],0],"kind":"defn","name":"std.text.ascii._is_lower","params":[{"name":"c","ty":"i32"}],"result":"i32"},{"body":["if",[">=u","c",65],["if",["<u","c",91],1,0],0],"kind":"defn","name":"std.text.ascii._is_upper","params":[{"name":"c","ty":"i32"}],"result":"i32"},{"body":["begin",["let","b",["codec.write_u32_le","x"]],["set","out",["vec_u8.extend_bytes_range","out","b",0,["bytes.len","b"]]],"out"],"kind":"defn","name":"std.text.ascii._push_u32_le","params":[{"name":"out","ty":"vec_u8"},{"name":"x","ty":"i32"}],"result":"vec_u8"},{"body":["begin",["let","last",["-","start",1]],["for","i","start","end",["begin",["let","c",["bytes.get_u8","b","i"]],["if",["std.text.ascii.is_space_tab","c"],0,["set","last","i"]]]],["+","last",1]],"kind":"defn","name":"std.text.ascii._trim_end_space_tab","params":[{"name":"b","ty":"bytes_view"},{"name":"start","ty":"i32"},{"name":"end","ty":"i32"}],"result":"i32"},{"body":["begin",["for","i","start","end",["begin",["let","c",["bytes.get_u8","b","i"]],["if",["std.text.ascii.is_space_tab","c"],0,["return","i"]]]],"end"],"kind":"defn","name":"std.text.ascii._trim_start_space_tab","params":[{"name":"b","ty":"bytes_view"},{"name":"start","ty":"i32"},{"name":"end","ty":"i32"}],"result":"i32"},{"body":["begin",["let","out",["vec_u8.with_capacity",["+",12,["*","count",8]]]],["set","out",["vec_u8.push","out",88]],["set","out",["vec_u8.push","out",55]],["set","out",["vec_u8.push","out",83]],["set","out",["vec_u8.push","out",76]],["set","out",["std.text.ascii._push_u32_le","out",1]],["set","out",["std.text.ascii._push_u32_le","out","count"]],"out"],"kind":"defn","name":"std.text.ascii._x7sl_new_v1","params":[{"name":"count","ty":"i32"}],"result":"vec_u8"},{"body":["begin",["let","n",["view.len","b"]],["for","i",0,"n",["if",["=",["view.get_u8","b","i"],10],["return",["view.slice","b",0,"i"]],0]],"b"],"kind":"defn","name":"std.text.ascii.first_line_view","params":[{"name":"b","ty":"bytes_view"}],"result":"bytes_view"},{"body":["if",["std.text.ascii._is_upper","c"],1,["if",["std.text.ascii._is_lower","c"],1,0]],"kind":"defn","name":"std.text.ascii.is_alpha","params":[{"name":"c","ty":"i32"}],"result":"i32"},{"body":["if",["=","c",32],1,["if",["=","c",9],1,0]],"kind":"defn","name":"std.text.ascii.is_space_tab","params":[{"name":"c","ty":"i32"}],"result":"i32"},{"body":["begin",["let","n",["view.len","b"]],["let","k0",["if",["<","k",0],0,"k"]],["let","line_start",0],["let","line",0],["for","i",0,"n",["if",["=",["view.get_u8","b","i"],10],["begin",["if",["=","line","k0"],["return",["view.slice","b","line_start",["-","i","line_start"]]],0],["set","line",["+","line",1]],["set","line_start",["+","i",1]]],0]],["if",["=","line","k0"],["view.slice","b","line_start",["-","n","line_start"]],["view.slice","b","n",0]]],"kind":"defn","name":"std.text.ascii.kth_line_view","params":[{"name":"b","ty":"bytes_view"},{"name":"k","ty":"i32"}],"result":"bytes_view"},{"body":["begin",["let","n",["view.len","b"]],["if",["=","n",0],["return","b"],0],["let","end","n"],["if",["=",["view.get_u8","b",["-","n",1]],10],["set","end",["-","n",1]],0],["let","start",0],["for","i",0,"end",["if",["=",["view.get_u8","b","i"],10],["set","start",["+","i",1]],0]],["if",["<u","start","end"],["view.slice","b","start",["-","end","start"]],["view.slice","b","end",0]]],"kind":"defn","name":"std.text.ascii.last_line_view","params":[{"name":"b","ty":"bytes_view"}],"result":"bytes_view"},{"body":["begin",["let","n",["bytes.len","b"]],["let","out",["vec_u8.with_capacity","n"]],["let","line_start",0],["for","i",0,"n",["begin",["let","c",["bytes.get_u8","b","i"]],["if",["if",["=","c",10],1,["=","c",13]],["begin",["set","out",["std.text.ascii._append_trimmed_line_space_tab","b","line_start","i","out"]],["set","line_start",["+","i",1]]],0]]],["set","out",["std.text.ascii._append_trimmed_line_space_tab","b","line_start","n","out"]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"std.text.ascii.normalize_lines","params":[{"name":"b","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","n",["view.len","b"]],["let","nl_count",0],["for","i",0,"n",["if",["=",["view.get_u8","b","i"],10],["set","nl_count",["+","nl_count",1]],0]],["let","emit_trailing",["if",["=","n",0],1,["if",["=",["view.get_u8","b",["-","n",1]],10],0,1]]],["let","total_count",["+","nl_count","emit_trailing"]],["let","out",["std.text.ascii._x7sl_new_v1","total_count"]],["let","start",0],["for","i",0,"n",["if",["=",["view.get_u8","b","i"],10],["begin",["let","end","i"],["if",["if",["<u","start","end"],["=",["view.get_u8","b",["-","end",1]],13],0],["set","end",["-","end",1]],0],["set","out",["std.text.ascii._emit_slice","out","start",["-","end","start"]]],["set","start",["+","i",1]]],0]],["if",["=",["=","emit_trailing",0],0],["begin",["let","end","n"],["if",["if",["<u","start","end"],["=",["view.get_u8","b",["-","end",1]],13],0],["set","end",["-","end",1]],0],["set","out",["std.text.ascii._emit_slice","out","start",["-","end","start"]]]],0],["vec_u8.into_bytes","out"]],"kind":"defn","name":"std.text.ascii.split_lines_view","params":[{"name":"b","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","n",["view.len","b"]],["let","count",1],["for","i",0,"n",["if",["=",["view.get_u8","b","i"],"sep"],["set","count",["+","count",1]],0]],["let","out",["std.text.ascii._x7sl_new_v1","count"]],["let","start",0],["for","i",0,"n",["if",["=",["view.get_u8","b","i"],"sep"],["begin",["set","out",["std.text.ascii._emit_slice","out","start",["-","i","start"]]],["set","start",["+","i",1]]],0]],["set","out",["std.text.ascii._emit_slice","out","start",["-","n","start"]]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"std.text.ascii.split_u8","params":[{"name":"b","ty":"bytes_view"},{"name":"sep","ty":"i32"}],"result":"bytes"},{"body":["if",["std.text.ascii._is_upper","c"],["+","c",32],"c"],"kind":"defn","name":"std.text.ascii.to_lower_u8","params":[{"name":"c","ty":"i32"}],"result":"i32"},{"body":["if",["std.text.ascii._is_lower","c"],["-","c",32],"c"],"kind":"defn","name":"std.text.ascii.to_upper_u8","params":[{"name":"c","ty":"i32"}],"result":"i32"},{"body":["begin",["let","n",["bytes.len","b"]],["let","out",["vec_u8.with_capacity","n"]],["let","in_word",0],["for","i",0,"n",["begin",["let","c",["bytes.get_u8","b","i"]],["if",["std.text.ascii.is_alpha","c"],["begin",["if",["=","in_word",0],["begin",["if",["<u",0,["vec_u8.len","out"]],["set","out",["vec_u8.push","out",32]],0],["set","in_word",1]],0],["set","out",["vec_u8.push","out",["std.text.ascii.to_lower_u8","c"]]]],["set","in_word",0]]]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"std.text.ascii.tokenize_words_lower","params":[{"name":"b","ty":"bytes_view"}],"result":"bytes"}],"imports":[],"kind":"module","meta":{"generated_by":"x07import","source_path":"import_sources/rust/std_text_ascii@0.1.1/ascii.rs","source_sha256":"47a0ed64ce97778363a5cc264001898182518315635682ba845c8d191eb615df"},"module_id":"std.text.ascii","schema_version":"x07.x07ast@0.1.0"}
