{"decls":[{"kind":"export","names":["std.heap_u32.emit_u32le","std.heap_u32.len","std.heap_u32.min_or","std.heap_u32.pop_min","std.heap_u32.push","std.heap_u32.with_capacity"]},{"body":["std.u32.read_le_at","h",0],"kind":"defn","name":"std.heap_u32._cap","params":[{"name":"h","ty":"bytes_view"}],"result":"i32"},{"body":["std.u32.read_le_at","h",["std.heap_u32._item_off","idx"]],"kind":"defn","name":"std.heap_u32._get","params":[{"name":"h","ty":"bytes_view"},{"name":"idx","ty":"i32"}],"result":"i32"},{"body":["begin",["let","out",["std.heap_u32.with_capacity","new_cap"]],["set","out",["bytes.copy","h","out"]],["set","out",["std.u32.write_le_at","out",0,"new_cap"]],"out"],"kind":"defn","name":"std.heap_u32._grow","params":[{"name":"h","ty":"bytes"},{"name":"new_cap","ty":"i32"}],"result":"bytes"},{"body":["+",8,["*","idx",4]],"kind":"defn","name":"std.heap_u32._item_off","params":[{"name":"idx","ty":"i32"}],"result":"i32"},{"body":["std.u32.write_le_at","h",["std.heap_u32._item_off","idx"],"x"],"kind":"defn","name":"std.heap_u32._set","params":[{"name":"h","ty":"bytes"},{"name":"idx","ty":"i32"},{"name":"x","ty":"i32"}],"result":"bytes"},{"body":["begin",["let","n",["std.heap_u32.len","h"]],["let","out",["vec_u8.with_capacity",["*","n",4]]],["for","i",0,"n",["begin",["set","out",["std.u32.push_le","out",["std.heap_u32.min_or","h",0]]],["set","h",["std.heap_u32.pop_min","h"]],0]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"std.heap_u32.emit_u32le","params":[{"name":"h","ty":"bytes"}],"result":"bytes"},{"body":["std.u32.read_le_at","h",4],"kind":"defn","name":"std.heap_u32.len","params":[{"name":"h","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","len",["std.heap_u32.len","h"]],["if",["=","len",0],["return","default"],0],["std.heap_u32._get","h",0]],"kind":"defn","name":"std.heap_u32.min_or","params":[{"name":"h","ty":"bytes_view"},{"name":"default","ty":"i32"}],"result":"i32"},{"body":["begin",["let","len",["std.heap_u32.len","h"]],["if",["=","len",0],["return","h"],0],["set","len",["-","len",1]],["set","h",["std.u32.write_le_at","h",4,"len"]],["if",["=","len",0],["return","h"],0],["let","v",["std.heap_u32._get","h","len"]],["let","idx",0],["let","done",0],["for","_",0,32,["begin",["if",["=","done",0],["begin",["let","left",["+",["*","idx",2],1]],["if",[">=u","left","len"],["set","done",1],["begin",["let","child","left"],["let","child_val",["std.heap_u32._get","h","left"]],["let","right",["+","left",1]],["if",["<u","right","len"],["begin",["let","rv",["std.heap_u32._get","h","right"]],["if",["<u","rv","child_val"],["begin",["set","child","right"],["set","child_val","rv"]],0],0],0],["if",["<u","child_val","v"],["begin",["set","h",["std.heap_u32._set","h","idx","child_val"]],["set","idx","child"]],["set","done",1]],0]],0],0],0]],["set","h",["std.heap_u32._set","h","idx","v"]],"h"],"kind":"defn","name":"std.heap_u32.pop_min","params":[{"name":"h","ty":"bytes"}],"result":"bytes"},{"body":["begin",["let","cap",["std.heap_u32._cap","h"]],["let","len",["std.heap_u32.len","h"]],["if",[">=u","len","cap"],["begin",["set","h",["std.heap_u32._grow","h",["if",["<","cap",1],1,["*","cap",2]]]],["set","cap",["std.heap_u32._cap","h"]],0],0],["set","h",["std.heap_u32._set","h","len","x"]],["set","len",["+","len",1]],["set","h",["std.u32.write_le_at","h",4,"len"]],["let","idx",["-","len",1]],["let","v","x"],["let","done",0],["for","_",0,32,["begin",["if",["=","done",1],0,["begin",["if",["=","idx",0],["set","done",1],0],["if",["=","done",0],["begin",["let","p",[">>u",["-","idx",1],1]],["let","pv",["std.heap_u32._get","h","p"]],["if",["<u","v","pv"],["begin",["set","h",["std.heap_u32._set","h","idx","pv"]],["set","idx","p"]],["set","done",1]],0],0],0]],0]],["set","h",["std.heap_u32._set","h","idx","v"]],"h"],"kind":"defn","name":"std.heap_u32.push","params":[{"name":"h","ty":"bytes"},{"name":"x","ty":"i32"}],"result":"bytes"},{"body":["begin",["let","cap2",["if",["<","cap",1],1,"cap"]],["let","b",["bytes.alloc",["+",8,["*","cap2",4]]]],["set","b",["std.u32.write_le_at","b",0,"cap2"]],["set","b",["std.u32.write_le_at","b",4,0]],"b"],"kind":"defn","name":"std.heap_u32.with_capacity","params":[{"name":"cap","ty":"i32"}],"result":"bytes"}],"imports":["std.u32"],"kind":"module","module_id":"std.heap_u32","schema_version":"x07.x07ast@0.3.0"}
